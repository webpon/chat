(window.webpackJsonp=window.webpackJsonp||[]).push([["npm.video.js~09601bc0"],{"3d33":function(t,e,n){
/**
 * @license
 * Video.js 6.13.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function a(t,e){return t.raw=e,t}function l(t){return V(t)?Object.keys(t):[]}var c,h=r(n("be09")),u=r(n("ef34")),p=r(n("1b8d")),d=r(n("8c10")),f=r(n("eec7")),y=r(n("2b8c")),v="6.13.0",g=(n=h.navigator&&h.navigator.userAgent||"",/AppleWebKit\/([\d.]+)/i.exec(n)),m=(g=g?parseFloat(g.pop()):null,/iPad/i.test(n)),_=/iPhone/i.test(n)&&!m,b=/iPod/i.test(n),T=_||m||b,C=(C=n.match(/OS (\d+)_/i))&&C[1]?C[1]:null,k=/Android/i.test(n),E=(L=n.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i))?(c=L[1]&&parseFloat(L[1]),j=L[2]&&parseFloat(L[2]),c&&j?parseFloat(L[1]+"."+L[2]):c||null):null,S=k&&/webkit/i.test(n)&&E<2.3,w=k&&E<5&&g<537,x=/Firefox/i.test(n),j=/Edge/i.test(n),P=!j&&(/Chrome/i.test(n)||/CriOS/i.test(n)),A=(L=n.match(/(Chrome|CriOS)\/(\d+)/))&&L[2]?parseFloat(L[2]):null,O=/MSIE\s8\.0/.test(n),M=c=!(c=(c=/MSIE\s(\d+)\.\d/.exec(n))&&parseFloat(c[1]))&&/Trident\/7.0/i.test(n)&&/rv:11.0/.test(n)?11:c,N=(g=/Safari/i.test(n)&&!P&&!k&&!j,(g||T)&&!P),I=X()&&("ontouchstart"in h||h.navigator.maxTouchPoints||h.DocumentTouch&&h.document instanceof h.DocumentTouch),D=X()&&"backgroundSize"in h.document.createElement("video").style,L=(Object.freeze||Object)({IS_IPAD:m,IS_IPHONE:_,IS_IPOD:b,IS_IOS:T,IOS_VERSION:C,IS_ANDROID:k,ANDROID_VERSION:E,IS_OLD_ANDROID:S,IS_NATIVE_ANDROID:w,IS_FIREFOX:x,IS_EDGE:j,IS_CHROME:P,CHROME_VERSION:A,IS_IE8:O,IE_VERSION:M,IS_SAFARI:g,IS_ANY_SAFARI:N,TOUCH_ENABLED:I,BACKGROUND_SIZE_SUPPORTED:D}),F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R=Object.prototype.toString;function B(t,e){l(t).forEach((function(n){return e(t[n],n)}))}function H(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Object.assign?Object.assign.apply(Object,[t].concat(n)):(n.forEach((function(e){e&&B(e,(function(e,n){t[n]=e}))})),t)}function V(t){return!!t&&"object"===(void 0===t?"undefined":F(t))}function z(t){return V(t)&&"[object Object]"===R.call(t)&&t.constructor===Object}var W=[],U=function t(e){function n(){for(var t=n.stringify||M&&M<11,e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];s("log",o,r,t)}var r,i,o="info",s=void 0;return r=e,s=function(t,e,n,o){e=i.levels[e];var s,a=new RegExp("^("+e+")$");"log"!==t&&n.unshift(t.toUpperCase()+":"),n.unshift(r+":"),W&&W.push([].concat(n)),h.console&&(s=(s=h.console[t])||"debug"!==t?s:h.console.info||h.console.log)&&e&&a.test(t)&&(o&&(n=n.map((function(t){if(V(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(t){}return String(t)})).join(" ")),s.apply?s[Array.isArray(n)?"apply":"call"](h.console,n):s(n))},(i=n).createLogger=function(n){return t(e+": "+n)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:o},n.level=function(t){if("string"==typeof t){if(!n.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');o=t}return o},(n.history=function(){return W?[].concat(W):[]}).filter=function(t){return(W||[]).filter((function(e){return new RegExp(".*"+t+".*").test(e[0])}))},n.history.clear=function(){W&&(W.length=0)},n.history.disable=function(){null!==W&&(W.length=0,W=null)},n.history.enable=function(){null===W&&(W=[])},n.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return s("error",o,e)},n.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return s("warn",o,e)},n.debug=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return s("debug",o,e)},n}("VIDEOJS"),K=U.createLogger;function q(t,e){var n;return t&&e?"function"==typeof h.getComputedStyle?(n=h.getComputedStyle(t))?n[e]:"":t.currentStyle[e]||"":""}var $=a(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function G(t){return"string"==typeof t&&/\S/.test(t)}function Y(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function X(){return u===h.document&&void 0!==u.createElement}function J(t){return V(t)&&1===t.nodeType}function Q(){try{return h.parent!==h.self}catch(n){return!0}}function Z(t){return function(e,n){return G(e)?(n=J(n=G(n)?u.querySelector(n):n)?n:u)[t]&&n[t](e):u[t](null)}}function tt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i=u.createElement(t);return Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(U.warn(p($,t,n)),i.setAttribute(t,n)):"textContent"===t?et(i,n):i[t]=n})),Object.getOwnPropertyNames(n).forEach((function(t){i.setAttribute(t,n[t])})),r&&bt(i,r),i}function et(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function nt(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function rt(t,e){return Y(e),t.classList?t.classList.contains(e):new RegExp("(^|\\s)"+e+"($|\\s)").test(t.className)}function it(t,e){return t.classList?t.classList.add(e):rt(t,e)||(t.className=(t.className+" "+e).trim()),t}function ot(t,e){return t.classList?t.classList.remove(e):(Y(e),t.className=t.className.split(/\s+/).filter((function(t){return t!==e})).join(" ")),t}function st(t,e,n){var r=rt(t,e);if((n="boolean"!=typeof(n="function"==typeof n?n(t,e):n)?!r:n)!==r)return(n?it:ot)(t,e),t}function at(t,e){Object.getOwnPropertyNames(e).forEach((function(n){var r=e[n];null==r||!1===r?t.removeAttribute(n):t.setAttribute(n,!0===r?"":r)}))}function lt(t){var e={};if(t&&t.attributes&&0<t.attributes.length)for(var n=t.attributes,r=n.length-1;0<=r;r--){var i=n[r].name,o=n[r].value;"boolean"!=typeof t[i]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+i+",")||(o=null!==o),e[i]=o}return e}function ct(t,e){return t.getAttribute(e)}function ht(t,e,n){t.setAttribute(e,n)}function ut(t,e){t.removeAttribute(e)}function pt(){u.body.focus(),u.onselectstart=function(){return!1}}function dt(){u.onselectstart=function(){return!0}}function ft(t){var e,n;if(t&&t.getBoundingClientRect&&t.parentNode)return e=t.getBoundingClientRect(),n={},["bottom","height","left","right","top","width"].forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),n.height||(n.height=parseFloat(q(t,"height"))),n.width||(n.width=parseFloat(q(t,"width"))),n}function yt(t){var e,n,r,i=void 0;return(i=t.getBoundingClientRect&&t.parentNode?t.getBoundingClientRect():i)?(t=u.documentElement,r=u.body,n=t.clientLeft||r.clientLeft||0,e=h.pageXOffset||r.scrollLeft,e=i.left+e-n,n=t.clientTop||r.clientTop||0,t=h.pageYOffset||r.scrollTop,r=i.top+t-n,{left:Math.round(e),top:Math.round(r)}):{left:0,top:0}}function vt(t,e){var n={},r=yt(t),i=t.offsetWidth,o=(t=t.offsetHeight,r.top),s=(r=r.left,e.pageY),a=e.pageX;return e.changedTouches&&(a=e.changedTouches[0].pageX,s=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(o-s+t)/t)),n.x=Math.max(0,Math.min(1,(a-r)/i)),n}function gt(t){return V(t)&&3===t.nodeType}function mt(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function _t(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return J(t="function"==typeof t?t():t)||gt(t)?t:"string"==typeof t&&/\S/.test(t)?u.createTextNode(t):void 0})).filter((function(t){return t}))}function bt(t,e){return _t(e).forEach((function(e){return t.appendChild(e)})),t}function Tt(t,e){return bt(mt(t),e)}function Ct(t){return void 0===t.button&&void 0===t.buttons||0===t.button&&void 0===t.buttons||9===M||0===t.button&&1===t.buttons}var kt=Z("querySelector"),Et=Z("querySelectorAll"),St=(Object.freeze||Object)({isReal:X,isEl:J,isInFrame:Q,createEl:tt,textContent:et,prependTo:nt,hasClass:rt,addClass:it,removeClass:ot,toggleClass:st,setAttributes:at,getAttributes:lt,getAttribute:ct,setAttribute:ht,removeAttribute:ut,blockTextSelection:pt,unblockTextSelection:dt,getBoundingClientRect:ft,findPosition:yt,getPointerPosition:vt,isTextNode:gt,emptyEl:mt,normalizeContent:_t,appendContent:bt,insertContent:Tt,isSingleLeftClick:Ct,$:kt,$$:Et}),wt=1,xt={},jt="vdata"+(new Date).getTime();function Pt(t){var e=(e=t[jt])||(t[jt]=wt++);return xt[e]||(xt[e]={}),xt[e]}function At(t){return t=t[jt],t&&Object.getOwnPropertyNames(xt[t]).length}function Ot(t){var e=t[jt];if(e){delete xt[e];try{delete t[jt]}catch(e){t.removeAttribute?t.removeAttribute(jt):t[jt]=null}}}function Mt(t,e){var n=Pt(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Ot(t)}function Nt(t,e,n,r){n.forEach((function(n){t(e,n,r)}))}function It(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var r,i,o,s=t||h.event;for(r in t={},s)"layerX"===r||"layerY"===r||"keyLocation"===r||"webkitMovementX"===r||"webkitMovementY"===r||"returnValue"===r&&s.preventDefault||(t[r]=s[r]);t.target||(t.target=t.srcElement||u),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){s.preventDefault&&s.preventDefault(),t.returnValue=!1,s.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){s.stopPropagation&&s.stopPropagation(),t.cancelBubble=!0,s.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){s.stopImmediatePropagation&&s.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!==t.clientX&&void 0!==t.clientX&&(i=u.documentElement,o=u.body,t.pageX=t.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),t.pageY=t.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var Dt=!1;try{var Lt=Object.defineProperty({},"passive",{get:function(){Dt=!0}});h.addEventListener("test",null,Lt),h.removeEventListener("test",null,Lt)}catch(n){}var Ft=["touchstart","touchmove"];function Rt(t,e,n){if(Array.isArray(e))return Nt(Rt,t,e,n);var r=Pt(t);r.handlers||(r.handlers={}),r.handlers[e]||(r.handlers[e]=[]),n.guid||(n.guid=wt++),r.handlers[e].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(e,n){if(!r.disabled){e=It(e);var i=r.handlers[e.type];if(i)for(var o=i.slice(0),s=0,a=o.length;s<a&&!e.isImmediatePropagationStopped();s++)try{o[s].call(t,e,n)}catch(e){U.error(e)}}}),1===r.handlers[e].length&&(t.addEventListener?(n=!1,Dt&&-1<Ft.indexOf(e)&&(n={passive:!0}),t.addEventListener(e,r.dispatcher,n)):t.attachEvent&&t.attachEvent("on"+e,r.dispatcher))}function Bt(t,e,n){if(At(t)){var r=Pt(t);if(r.handlers){if(Array.isArray(e))return Nt(Bt,t,e,n);function i(t,e){r.handlers[e]=[],Mt(t,e)}if(void 0===e)for(var o in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},o)&&i(t,o);else{var s=r.handlers[e];if(s)if(n){if(n.guid)for(var a=0;a<s.length;a++)s[a].guid===n.guid&&s.splice(a--,1);Mt(t,e)}else i(t,e)}}}}function Ht(t,e,n){var r=At(t)?Pt(t):{},i=t.parentNode||t.ownerDocument;return"string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=It(e),r.dispatcher&&r.dispatcher.call(t,e,n),i&&!e.isPropagationStopped()&&!0===e.bubbles?Ht.call(null,i,e,n):i||e.defaultPrevented||(r=Pt(e.target),e.target[e.type]&&(r.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),r.disabled=!1)),!e.defaultPrevented}function Vt(t,e,n){if(Array.isArray(e))return Nt(Vt,t,e,n);function r(){Bt(t,e,r),n.apply(this,arguments)}r.guid=n.guid=n.guid||wt++,Rt(t,e,r)}function zt(){if(X()&&!1!==Kt.options.autoSetup){var t=u.getElementsByTagName("video"),e=u.getElementsByTagName("audio"),n=u.getElementsByTagName("video-js"),r=[];if(t&&0<t.length)for(var i=0,o=t.length;i<o;i++)r.push(t[i]);if(e&&0<e.length)for(var s=0,a=e.length;s<a;s++)r.push(e[s]);if(n&&0<n.length)for(var l=0,c=n.length;l<c;l++)r.push(n[l]);if(r&&0<r.length)for(var h=0,p=r.length;h<p;h++){var d=r[h];if(!d||!d.getAttribute){qt(1);break}void 0===d.player&&null!==d.getAttribute("data-setup")&&Kt(d)}else Ut||qt(1)}}var Wt=(Object.freeze||Object)({fixEvent:It,on:Rt,off:Bt,trigger:Ht,one:Vt}),Ut=!1,Kt=void 0;function qt(t,e){e&&(Kt=e),h.setTimeout(zt,t)}function $t(t){var e=u.createElement("style");return e.className=t,e}function Gt(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e}function Yt(t,e){var n=Date.now();return function(){var r=Date.now();e<=r-n&&(t.apply(void 0,arguments),n=r)}}function Xt(t,e,n){function r(){var r=this,s=arguments,a=function(){a=o=null,n||t.apply(r,s)};!o&&n&&t.apply(r,s),i.clearTimeout(o),o=i.setTimeout(a,e)}var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:h,o=void 0;return r.cancel=function(){i.clearTimeout(o),o=null},r}function Jt(){}function Qt(t){if(!t.nodeName&&!ie(t))throw new Error("Invalid target; must be a DOM node or evented object.")}function Zt(t){if(!oe(t))throw new Error("Invalid event type; must be a non-empty string or array.")}function te(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")}function ee(t,e){var n=e.length<3||e[0]===t||e[0]===t.eventBusEl_,r=void 0,i=void 0,o=void 0;o=n?(r=t.eventBusEl_,3<=e.length&&e.shift(),i=e[0],e[1]):(r=e[0],i=e[1],e[2]);return Qt(r),Zt(i),te(o),{isTargetingSelf:n,target:r,type:i,listener:o=re(t,o)}}function ne(t,e,n,r){Qt(t),t.nodeName?Wt[e](t,n,r):t[e](n,r)}X()&&"complete"===u.readyState?Ut=!0:Vt(h,"load",(function(){Ut=!0}));var re=function(t,e,n){function r(){return e.apply(t,arguments)}return e.guid||(e.guid=wt++),r.guid=n?n+"_"+e.guid:e.guid,r},ie=(Jt.prototype.allowedEvents_={},Jt.prototype.addEventListener=Jt.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},Rt(this,t,e),this.addEventListener=n},Jt.prototype.removeEventListener=Jt.prototype.off=function(t,e){Bt(this,t,e)},Jt.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},Vt(this,t,e),this.addEventListener=n},Jt.prototype.dispatchEvent=Jt.prototype.trigger=function(t){var e=t.type||t;t=It(t="string"==typeof t?{type:e}:t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Ht(this,t)},function(t){return t instanceof Jt||!!t.eventBusEl_&&["on","one","off","trigger"].every((function(e){return"function"==typeof t[e]}))}),oe=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},se={on:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i,o=ee(this,n),s=o.isTargetingSelf,a=o.target,l=o.type,c=o.listener;ne(a,"on",l,c),s||((i=function(){return t.off(a,l,c)}).guid=c.guid,(o=function(){return t.off("dispose",i)}).guid=c.guid,ne(this,"on","dispose",i),ne(a,"on","dispose",o))},one:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=ee(this,n),o=i.isTargetingSelf,s=i.target,a=i.type,l=i.listener;o?ne(s,"one",a,l):((i=function e(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];t.off(s,a,e),l.apply(null,r)}).guid=l.guid,ne(s,"one",a,i))},off:function(t,e,n){!t||oe(t)?Bt(this.eventBusEl_,t,e):(e=e,Qt(t=t),Zt(e),te(n),n=re(this,n),this.off("dispose",n),t.nodeName?(Bt(t,e,n),Bt(t,"dispose",n)):ie(t)&&(t.off(e,n),t.off("dispose",n)))},trigger:function(t,e){return Ht(this.eventBusEl_,t,e)}};function ae(t,e){var n=(1<arguments.length&&void 0!==e?e:{}).eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=tt("span",{className:"vjs-event-bus"});H(t,se),t.on("dispose",(function(){t.off(),h.setTimeout((function(){t.eventBusEl_=null}),0)}))}var le={state:{},setState:function(t){var e=this,n=void("function"==typeof t&&(t=t()));return B(t,(function(t,r){e.state[r]!==t&&((n=n||{})[r]={from:e.state[r],to:t}),e.state[r]=t})),n&&ie(this)&&this.trigger({changes:n,type:"statechanged"}),n}};function ce(t,e){H(t,le),t.state=H({},t.state,e),"function"==typeof t.handleStateChanged&&ie(t)&&t.on("statechanged",t.handleStateChanged)}function he(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function ue(){for(var t={},e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((function(e){e&&B(e,(function(e,n){z(e)?(z(t[n])||(t[n]={}),t[n]=ue(t[n],e)):t[n]=e}))})),t}de.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;0<=t;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Ot(this.el_),this.el_=null),this.player_=null},de.prototype.player=function(){return this.player_},de.prototype.options=function(t){return U.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t&&(this.options_=ue(this.options_,t)),this.options_},de.prototype.el=function(){return this.el_},de.prototype.createEl=function(t,e,n){return tt(t,e,n)},de.prototype.localize=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t,r=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),o=i&&i[r];r=r&&r.split("-")[0],i=i&&i[r],r=n;return o&&o[t]?r=o[t]:i&&i[t]&&(r=i[t]),e?r.replace(/\{(\d+)\}/g,(function(t,n){return n=e[n-1],void 0===n?t:n})):r},de.prototype.contentEl=function(){return this.contentEl_||this.el_},de.prototype.id=function(){return this.id_},de.prototype.name=function(){return this.name_},de.prototype.children=function(){return this.children_},de.prototype.getChildById=function(t){return this.childIndex_[t]},de.prototype.getChild=function(t){if(t)return t=he(t),this.childNameIndex_[t]},de.prototype.addChild=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.children_.length,r=void 0,i=void 0;if("string"==typeof t){i=he(t);var o=e.componentClass||i,s=(e.name=i,de.getComponent(o));if(!s)throw new Error("Component "+o+" does not exist");if("function"!=typeof s)return null;r=new s(this.player_||this,e)}else r=t;return this.children_.splice(n,0,r),"function"==typeof r.id&&(this.childIndex_[r.id()]=r),(i=i||r.name&&he(r.name()))&&(this.childNameIndex_[i]=r),"function"==typeof r.el&&r.el()&&(o=this.contentEl().children[n]||null,this.contentEl().insertBefore(r.el(),o)),r},de.prototype.removeChild=function(t){if((t="string"==typeof t?this.getChild(t):t)&&this.children_){for(var e,n=!1,r=this.children_.length-1;0<=r;r--)if(this.children_[r]===t){n=!0,this.children_.splice(r,1);break}n&&(this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null,(e=t.el())&&e.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el()))}},de.prototype.initChildren=function(){var t,e,n,r=this,i=this.options_.children;i&&(t=this.options_,n=void 0,e=de.getComponent("Tech"),(n=Array.isArray(i)?i:Object.keys(i)).concat(Object.keys(this.options_).filter((function(t){return!n.some((function(e){return"string"==typeof e?t===e:t===e.name}))}))).map((function(t){var e=void 0,n=void 0;n="string"==typeof t?i[e=t]||r.options_[e]||{}:(e=t.name,t);return{name:e,opts:n}})).filter((function(t){return t=de.getComponent(t.opts.componentClass||he(t.name)),t&&!e.isTech(t)})).forEach((function(e){var n=e.name;e=e.opts;!1!==(e=void 0!==t[n]?t[n]:e)&&((e=!0===e?{}:e).playerOptions=r.options_.playerOptions,(e=r.addChild(n,e))&&(r[n]=e))})))},de.prototype.buildCSSClass=function(){return""},de.prototype.ready=function(t){t&&(this.isReady_?1<arguments.length&&void 0!==arguments[1]&&arguments[1]?t.call(this):this.setTimeout(t,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(t)))},de.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var t=this.readyQueue_;this.readyQueue_=[],t&&0<t.length&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},de.prototype.$=function(t,e){return kt(t,e||this.contentEl())},de.prototype.$$=function(t,e){return Et(t,e||this.contentEl())},de.prototype.hasClass=function(t){return rt(this.el_,t)},de.prototype.addClass=function(t){it(this.el_,t)},de.prototype.removeClass=function(t){ot(this.el_,t)},de.prototype.toggleClass=function(t,e){st(this.el_,t,e)},de.prototype.show=function(){this.removeClass("vjs-hidden")},de.prototype.hide=function(){this.addClass("vjs-hidden")},de.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},de.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},de.prototype.getAttribute=function(t){return ct(this.el_,t)},de.prototype.setAttribute=function(t,e){ht(this.el_,t,e)},de.prototype.removeAttribute=function(t){ut(this.el_,t)},de.prototype.width=function(t,e){return this.dimension("width",t,e)},de.prototype.height=function(t,e){return this.dimension("height",t,e)},de.prototype.dimensions=function(t,e){this.width(t,!0),this.height(e)},de.prototype.dimension=function(t,e,n){var r,i;if(void 0===e)return this.el_?-1!==(i=(r=this.el_.style[t]).indexOf("px"))?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+he(t)],10):0;-1!==(""+(e=null!==e&&e==e?e:0)).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",n||this.trigger("componentresize")},de.prototype.currentDimension=function(t){var e,n=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");return"function"==typeof h.getComputedStyle&&(n=(e=h.getComputedStyle(this.el_)).getPropertyValue(t)||e[t]),0===(n=parseFloat(n))&&(e="offset"+he(t),n=this.el_[e]),n},de.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},de.prototype.currentWidth=function(){return this.currentDimension("width")},de.prototype.currentHeight=function(){return this.currentDimension("height")},de.prototype.focus=function(){this.el_.focus()},de.prototype.blur=function(){this.el_.blur()},de.prototype.emitTapEvents=function(){function t(){r=!1}var e=0,n=null,r=void 0;this.on("touchstart",(function(t){1===t.touches.length&&(n={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY},e=(new Date).getTime(),r=!0)})),this.on("touchmove",(function(t){var e;1<t.touches.length?r=!1:n&&(e=t.touches[0].pageX-n.pageX,t=t.touches[0].pageY-n.pageY,10<Math.sqrt(e*e+t*t)&&(r=!1))})),this.on("touchleave",t),this.on("touchcancel",t),this.on("touchend",(function(t){!(n=null)===r&&(new Date).getTime()-e<200&&(t.preventDefault(),this.trigger("tap"))}))},de.prototype.enableTouchActivity=function(){var t,e,n;this.player()&&this.player().reportUserActivity&&(t=re(this.player(),this.player().reportUserActivity),e=void 0,this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)})),n=function(n){t(),this.clearInterval(e)},this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n))},de.prototype.setTimeout=function(t,e){var n,r,i=this;return t=re(this,t),n=h.setTimeout((function(){i.off("dispose",r),t()}),e),(r=function(){return i.clearTimeout(n)}).guid="vjs-timeout-"+n,this.on("dispose",r),n},de.prototype.clearTimeout=function(t){function e(){}return h.clearTimeout(t),e.guid="vjs-timeout-"+t,this.off("dispose",e),t},de.prototype.setInterval=function(t,e){function n(){return r.clearInterval(i)}var r=this,i=(t=re(this,t),h.setInterval(t,e));return n.guid="vjs-interval-"+i,this.on("dispose",n),i},de.prototype.clearInterval=function(t){function e(){}return h.clearInterval(t),e.guid="vjs-interval-"+t,this.off("dispose",e),t},de.prototype.requestAnimationFrame=function(t){var e,n,r=this;return this.supportsRaf_?(t=re(this,t),e=h.requestAnimationFrame((function(){r.off("dispose",n),t()})),(n=function(){return r.cancelAnimationFrame(e)}).guid="vjs-raf-"+e,this.on("dispose",n),e):this.setTimeout(t,1e3/60)},de.prototype.cancelAnimationFrame=function(t){var e;return this.supportsRaf_?(h.cancelAnimationFrame(t),(e=function(){}).guid="vjs-raf-"+t,this.off("dispose",e),t):this.clearTimeout(t)},de.registerComponent=function(t,e){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var n=de.getComponent("Tech"),r=(n=n&&n.isTech(e),de===e||de.prototype.isPrototypeOf(e.prototype));if(n||!r)throw r=void 0,r=n?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+r+".");if(t=he(t),de.components_||(de.components_={}),n=de.getComponent("Player"),"Player"===t&&n&&n.players){var i=n.players;r=Object.keys(i);if(i&&0<r.length&&r.map((function(t){return i[t]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return de.components_[t]=e},de.getComponent=function(t){if(t)return t=he(t),de.components_&&de.components_[t]?de.components_[t]:void 0};var pe=de;function de(t,e,n){i(this,de),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=ue({},this.options_),e=this.options_=ue(this.options_,e),this.id_=e.id||e.el&&e.el.id,this.id_||(t=t&&t.id&&t.id()||"no_player",this.id_=t+"_component_"+wt++),this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&ae(this,{eventBusKey:this.el_?"el_":null}),ce(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},!(this.childNameIndex_={})!==e.initChildren&&this.initChildren(),this.ready(n),!1!==e.reportTouchActivity&&this.enableTouchActivity()}function fe(t,e,n,r){var i=r,o=n.length-1;if("number"!=typeof i||i<0||o<i)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+i+") is non-numeric or out of bounds (0-"+o+").");return n[r][e]}function ye(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:fe.bind(null,"start",0,t),end:fe.bind(null,"end",1,t)}}function ve(t,e){return Array.isArray(t)?ye(t):void 0===t||void 0===e?ye():ye([[t,e]])}function ge(t,e){var n,r=0,i=void 0;if(!e)return 0;t&&t.length||(t=ve(0,0));for(var o=0;o<t.length;o++)n=t.start(o),r+=(i=e<(i=t.end(o))?e:i)-n;return r/e}pe.prototype.supportsRaf_="function"==typeof h.requestAnimationFrame&&"function"==typeof h.cancelAnimationFrame,pe.registerComponent("Component",pe);for(var me={},_e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],be=_e[0],Te=void 0,Ce=0;Ce<_e.length;Ce++)if(_e[Ce][1]in u){Te=_e[Ce];break}if(Te)for(var ke=0;ke<Te.length;ke++)me[be[ke]]=Te[ke];function Ee(t){if(t instanceof Ee)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:V(t)&&("number"==typeof t.code&&(this.code=t.code),H(this,t)),this.message||(this.message=Ee.defaultMessages[this.code]||"")}Ee.prototype.code=0,Ee.prototype.message="",Ee.prototype.status=null,Ee.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Ee.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Se=0;Se<Ee.errorTypes.length;Se++)Ee[Ee.errorTypes[Se]]=Se,Ee.prototype[Ee.errorTypes[Se]]=Se;function we(t){return null!=t&&"function"==typeof t.then}function xe(t){we(t)&&t.then(null,(function(t){}))}function je(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(e,n,r){return t[n]&&(e[n]=t[n]),e}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))})}var Pe,Ae=function(t){var e=t.$$("track"),n=Array.prototype.map.call(e,(function(t){return t.track}));return Array.prototype.map.call(e,(function(t){var e=je(t.track);return t.src&&(e.src=t.src),e})).concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===n.indexOf(t)})).map(je))},Oe=function(t,e){return t.forEach((function(t){var n=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return n.addCue(t)}))})),e.textTracks()},Me="vjs-modal-dialog",Ne=(o(Ie,Pe=pe),Ie.prototype.createEl=function(){return Pe.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},Ie.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,Pe.prototype.dispose.call(this)},Ie.prototype.buildCSSClass=function(){return Me+" vjs-hidden "+Pe.prototype.buildCSSClass.call(this)},Ie.prototype.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},Ie.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},Ie.prototype.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},Ie.prototype.open=function(){var t;this.opened_||(t=this.player(),this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",re(this,this.handleKeyPress)),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0)},Ie.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},Ie.prototype.close=function(){var t;this.opened_&&(t=this.player(),this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",re(this,this.handleKeyPress)),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose())},Ie.prototype.closeable=function(t){var e,n;return"boolean"==typeof t&&(t=this.closeable_=!!t,e=this.getChild("closeButton"),t&&!e&&(n=this.contentEl_,this.contentEl_=this.el_,e=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(e,"close",this.close)),!t&&e&&(this.off(e,"close",this.close),this.removeChild(e),e.dispose())),this.closeable_},Ie.prototype.fill=function(){this.fillWith(this.content())},Ie.prototype.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,r=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),Tt(e,t),this.trigger("modalfill"),r?n.insertBefore(e,r):n.appendChild(e),t=this.getChild("closeButton");t&&n.appendChild(t.el_)},Ie.prototype.empty=function(){this.trigger("beforemodalempty"),mt(this.contentEl()),this.trigger("modalempty")},Ie.prototype.content=function(t){return void 0!==t&&(this.content_=t),this.content_},Ie.prototype.conditionalFocus_=function(){var t=u.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,!e.contains(t)&&e!==t||(this.previouslyActiveEl_=t,this.focus(),this.on(u,"keydown",this.handleKeyDown))},Ie.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(u,"keydown",this.handleKeyDown)},Ie.prototype.handleKeyDown=function(t){if(9===t.which){for(var e=this.focusableEls_(),n=this.el_.querySelector(":focus"),r=void 0,i=0;i<e.length;i++)if(n===e[i]){r=i;break}u.activeElement===this.el_&&(r=0),t.shiftKey&&0===r?(e[e.length-1].focus(),t.preventDefault()):t.shiftKey||r!==e.length-1||(e[0].focus(),t.preventDefault())}},Ie.prototype.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,(function(t){return(t instanceof h.HTMLAnchorElement||t instanceof h.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof h.HTMLInputElement||t instanceof h.HTMLSelectElement||t instanceof h.HTMLTextAreaElement||t instanceof h.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof h.HTMLIFrameElement||t instanceof h.HTMLObjectElement||t instanceof h.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")}))},Ie);function Ie(t,e){return i(this,Ie),t=s(this,Pe.call(this,t,e)),t.opened_=t.hasBeenOpened_=t.hasBeenFilled_=!1,t.closeable(!t.options_.uncloseable),t.content(t.options_.content),t.contentEl_=tt("div",{className:Me+"-content"},{role:"document"}),t.descEl_=tt("p",{className:Me+"-description vjs-control-text",id:t.el().getAttribute("aria-describedby")}),et(t.descEl_,t.description()),t.el_.appendChild(t.descEl_),t.el_.appendChild(t.contentEl_),t}Ne.prototype.options_={pauseOnOpen:!0,temporary:!0},pe.registerComponent("ModalDialog",Ne),o(Re,De=Jt),Re.prototype.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},Re.prototype.removeTrack=function(t){for(var e=void 0,n=0,r=this.length;n<r;n++)if(this[n]===t){(e=this[n]).off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack"})},Re.prototype.getTrackById=function(t){for(var e=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===t){e=i;break}}return e};var De,Le,Fe=Re;function Re(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=(i(this,Re),s(this,De.call(this)));if(!e&&(e=n,O))for(var r in e=u.createElement("custom"),Re.prototype)"constructor"!==r&&(e[r]=Re.prototype[r]);e.tracks_=[],Object.defineProperty(e,"length",{get:function(){return this.tracks_.length}});for(var o=0;o<t.length;o++)e.addTrack(t[o]);return s(n,e)}for(Le in Fe.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Fe.prototype.allowedEvents_)Fe.prototype["on"+Le]=null;function Be(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)}o(Ve,He=Fe),Ve.prototype.addTrack=function(t){var e=this;t.enabled&&Be(this,t),He.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",(function(){e.changing_||(e.changing_=!0,Be(e,t),e.changing_=!1,e.trigger("change"))}))};var He;n=Ve;function Ve(){for(var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=void i(this,Ve),r=e.length-1;0<=r;r--)if(e[r].enabled){Be(e,e[r]);break}if(O){for(var o in n=u.createElement("custom"),Fe.prototype)"constructor"!==o&&(n[o]=Fe.prototype[o]);for(var a in Ve.prototype)"constructor"!==a&&(n[a]=Ve.prototype[a])}return(n=t=s(this,He.call(this,e,n))).changing_=!1,s(t,n)}function ze(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)}o(Ue,We=Fe),Ue.prototype.addTrack=function(t){var e=this;t.selected&&ze(this,t),We.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",(function(){e.changing_||(e.changing_=!0,ze(e,t),e.changing_=!1,e.trigger("change"))}))};var We;m=Ue;function Ue(){for(var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=void i(this,Ue),r=e.length-1;0<=r;r--)if(e[r].selected){ze(e,e[r]);break}if(O){for(var o in n=u.createElement("custom"),Fe.prototype)"constructor"!==o&&(n[o]=Fe.prototype[o]);for(var a in Ue.prototype)"constructor"!==a&&(n[a]=Ue.prototype[a])}return(n=t=s(this,We.call(this,e,n))).changing_=!1,Object.defineProperty(n,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),s(t,n)}o(qe,Ke=Fe),qe.prototype.addTrack=function(t){Ke.prototype.addTrack.call(this,t),t.addEventListener("modechange",re(this,(function(){this.trigger("change")}))),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",re(this,(function(){this.trigger("selectedlanguagechange")})))};var Ke;b=qe;function qe(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=void i(this,qe);if(O){for(var n in e=u.createElement("custom"),Fe.prototype)"constructor"!==n&&(e[n]=Fe.prototype[n]);for(var r in qe.prototype)"constructor"!==r&&(e[r]=qe.prototype[r])}return t=s(this,Ke.call(this,t,e)),s(e=t,e)}function $e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=(i(this,$e),this);if(O)for(var n in e=u.createElement("custom"),$e.prototype)"constructor"!==n&&(e[n]=$e.prototype[n]);e.trackElements_=[],Object.defineProperty(e,"length",{get:function(){return this.trackElements_.length}});for(var r=0,o=t.length;r<o;r++)e.addTrackElement_(t[r]);if(O)return e}$e.prototype.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},$e.prototype.getTrackElementByTrack_=function(t){for(var e=void 0,n=0,r=this.trackElements_.length;n<r;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},$e.prototype.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}},C=$e,Ye.prototype.setCues_=function(t){function e(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})}var n=this.length||0,r=0,i=t.length;if(this.cues_=t,this.length_=t.length,n<i)for(r=n;r<i;r++)e.call(this,r)},Ye.prototype.getCueById=function(t){for(var e=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===t){e=i;break}}return e};var Ge=Ye;function Ye(t){i(this,Ye);var e=this;if(O)for(var n in e=u.createElement("custom"),Ye.prototype)"constructor"!==n&&(e[n]=Ye.prototype[n]);if(Ye.prototype.setCues_.call(e,t),Object.defineProperty(e,"length",{get:function(){return this.length_}}),O)return e}var Xe,Je={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Qe={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Ze={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},tn={disabled:"disabled",hidden:"hidden",showing:"showing"};o(en,Xe=Jt),g=en;function en(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=(i(this,en),s(this,Xe.call(this))),n=e;if(O)for(var r in n=u.createElement("custom"),en.prototype)"constructor"!==r&&(n[r]=en.prototype[r]);var o,a={id:t.id||"vjs_track_"+wt++,kind:t.kind||"",label:t.label||"",language:t.language||""};for(o in a)!function(t){Object.defineProperty(n,t,{get:function(){return a[t]},set:function(){}})}(o);return s(e,n)}function nn(t){for(var e=["protocol","hostname","port","pathname","search","hash","host"],n=u.createElement("a"),r=(n.href=t,""===n.host&&"file:"!==n.protocol),i=void 0,o=(r&&((i=u.createElement("div")).innerHTML='<a href="'+t+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),u.body.appendChild(i)),{}),s=0;s<e.length;s++)o[e[s]]=n[e[s]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),o.protocol||(o.protocol=h.location.protocol),r&&u.body.removeChild(i),o}function rn(t){var e;return t.match(/^https?:\/\//)||((e=u.createElement("div")).innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href),t}var on,sn=function(t){return"string"==typeof t&&(t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t),t)?t.pop().toLowerCase():""},an=function(t){var e=h.location;t=nn(t);return(":"===t.protocol?e:t).protocol+t.host!==e.protocol+e.host},ln=(Lt=(Object.freeze||Object)({parseUrl:nn,getAbsoluteURL:rn,getFileExtension:sn,isCrossOrigin:an}),function(t,e){var n=new h.WebVTT.Parser(h,h.vttjs,h.WebVTT.StringDecoder()),r=[];n.oncue=function(t){e.addCue(t)},n.onparsingerror=function(t){r.push(t)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),0<r.length&&(h.console&&h.console.groupCollapsed&&h.console.groupCollapsed("Text Track parsing errors for "+e.src),r.forEach((function(t){return U.error(t)})),h.console&&h.console.groupEnd&&h.console.groupEnd()),n.flush()}),cn=(o(hn,on=g),hn.prototype.addCue=function(t){var e=t;if(h.vttjs&&!(t instanceof h.vttjs.VTTCue)){for(var n in e=new h.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)n in e||(e[n]=t[n]);e.id=t.id,e.originalCue_=t}for(var r=this.tech_.textTracks(),i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},hn.prototype.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},hn);function hn(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(i(this,hn),!e.tech)throw new Error("A tech was not provided.");e=ue(e,{kind:Ze[e.kind]||"subtitles",language:e.language||e.srclang||""});var n=tn[e.mode]||"disabled",r=e.default,o=("metadata"!==e.kind&&"chapters"!==e.kind||(n="hidden"),t=s(this,on.call(this,e)));if(o.tech_=e.tech,O)for(var a in hn.prototype)"constructor"!==a&&(o[a]=hn.prototype[a]);o.cues_=[],o.activeCues_=[];var l=new Ge(o.cues_),c=new Ge(o.activeCues_),u=!1,p=re(o,(function(){this.activeCues=this.activeCues,u&&(this.trigger("cuechange"),u=!1)}));return"disabled"!==n&&o.tech_.ready((function(){o.tech_.on("timeupdate",p)}),!0),Object.defineProperty(o,"default",{get:function(){return r},set:function(){}}),Object.defineProperty(o,"mode",{get:function(){return n},set:function(t){var e=this;tn[t]&&("disabled"!==(n=t)?this.tech_.ready((function(){e.tech_.on("timeupdate",p)}),!0):this.tech_.off("timeupdate",p),this.trigger("modechange"))}}),Object.defineProperty(o,"cues",{get:function(){return this.loaded_?l:null},set:function(){}}),Object.defineProperty(o,"activeCues",{get:function(){if(!this.loaded_)return null;if(0!==this.cues.length){for(var t=this.tech_.currentTime(),e=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];(i.startTime<=t&&i.endTime>=t||i.startTime===i.endTime&&i.startTime<=t&&i.startTime+.5>=t)&&e.push(i)}if(u=!1,e.length!==this.activeCues_.length)u=!0;else for(var o=0;o<e.length;o++)-1===this.activeCues_.indexOf(e[o])&&(u=!0);this.activeCues_=e,c.setCues_(this.activeCues_)}return c},set:function(){}}),e.src?(o.src=e.src,function(t,e){var n={uri:t};t=an(t);t&&(n.cors=t),f(n,re(this,(function(t,n,r){if(t)return U.error(t,n);var i;e.loaded_=!0,"function"!=typeof h.WebVTT?e.tech_&&(e.tech_.on("vttjsloaded",i=function(){return ln(r,e)}),e.tech_.on("vttjserror",(function(){U.error("vttjs failed to load, stopping trying to process "+e.src),e.tech_.off("vttjsloaded",i)}))):ln(r,e)})))}(e.src,o)):o.loaded_=!0,s(t,o)}cn.prototype.allowedEvents_={cuechange:"cuechange"},o(dn,un=g);var un,pn=dn;function dn(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=(e=(i(this,dn),ue(e,{kind:Qe[e.kind]||""})),t=s(this,un.call(this,e))),r=!1;if(O)for(var o in dn.prototype)"constructor"!==o&&(n[o]=dn.prototype[o]);return Object.defineProperty(n,"enabled",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("enabledchange"))}}),e.enabled&&(n.enabled=e.enabled),n.loaded_=!0,s(t,n)}o(yn,fn=g);var fn;g=yn;function yn(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=(e=(i(this,yn),ue(e,{kind:Je[e.kind]||""})),t=s(this,fn.call(this,e))),r=!1;if(O)for(var o in yn.prototype)"constructor"!==o&&(n[o]=yn.prototype[o]);return Object.defineProperty(n,"selected",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("selectedchange"))}}),e.selected&&(n.selected=e.selected),s(t,n)}o(mn,vn=Jt);var vn,gn=mn;function mn(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=(i(this,mn),s(this,vn.call(this))),n=void 0,r=e;if(O)for(var o in r=u.createElement("custom"),mn.prototype)"constructor"!==o&&(r[o]=mn.prototype[o]);var a=new cn(t);return r.kind=a.kind,r.src=a.src,r.srclang=a.language,r.label=a.label,r.default=a.default,Object.defineProperty(r,"readyState",{get:function(){return n}}),Object.defineProperty(r,"track",{get:function(){return a}}),n=0,a.addEventListener("loadeddata",(function(){n=2,r.trigger({type:"load",target:r})})),O?s(e,r):e}gn.prototype.allowedEvents_={load:"load"},gn.NONE=0,gn.LOADING=1,gn.LOADED=2,gn.ERROR=3;var _n={audio:{ListClass:n,TrackClass:pn,capitalName:"Audio"},video:{ListClass:m,TrackClass:g,capitalName:"Video"},text:{ListClass:b,TrackClass:cn,capitalName:"Text"}},bn=(Object.keys(_n).forEach((function(t){_n[t].getterName=t+"Tracks",_n[t].privateName=t+"Tracks_"})),{remoteText:{ListClass:b,TrackClass:cn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:C,TrackClass:gn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}}),Tn=ue(_n,bn);bn.names=Object.keys(bn),_n.names=Object.keys(_n),Tn.names=[].concat(bn.names).concat(_n.names),o(En,Cn=pe),En.prototype.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",(function(){return e.setTimeout((function(){return e.triggerSourceset(t)}),1)})),this.trigger({src:t,type:"sourceset"})},En.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},En.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},En.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(re(this,(function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),1===(this.bufferedPercent_=t)&&this.stopTrackingProgress()})),500)},En.prototype.onDurationChange=function(t){this.duration_=this.duration()},En.prototype.buffered=function(){return ve(0,0)},En.prototype.bufferedPercent=function(){return ge(this.buffered(),this.duration_)},En.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},En.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},En.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},En.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},En.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},En.prototype.dispose=function(){this.clearTracks(_n.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),Cn.prototype.dispose.call(this)},En.prototype.clearTracks=function(t){var e=this;(t=[].concat(t)).forEach((function(t){for(var n=e[t+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===t&&e.removeRemoteTextTrack(i),n.removeTrack(i)}}))},En.prototype.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var n=t[e];this.removeRemoteTextTrack(n)}},En.prototype.reset=function(){},En.prototype.error=function(t){return void 0!==t&&(this.error_=new Ee(t),this.trigger("error")),this.error_},En.prototype.played=function(){return this.hasStarted_?ve(0,0):ve()},En.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},En.prototype.initTrackListeners=function(){var t=this;_n.names.forEach((function(e){function n(){t.trigger(e+"trackchange")}var r=_n[e],i=t[r.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),t.on("dispose",(function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)}))}))},En.prototype.addWebVttScript_=function(){var t,e=this;h.WebVTT||(u.body.contains(this.el())?!this.options_["vtt.js"]&&z(y)&&0<Object.keys(y).length?this.trigger("vttjsloaded"):((t=u.createElement("script")).src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),h.WebVTT=!0,this.el().parentNode.appendChild(t)):this.ready(this.addWebVttScript_))},En.prototype.emulateTextTracks=function(){function t(t){return i.addTrack(t.track)}function e(t){return i.removeTrack(t.track)}function n(){s();for(var t=0;t<i.length;t++){var e=i[t];e.removeEventListener("cuechange",s),"showing"===e.mode&&e.addEventListener("cuechange",s)}}var r=this,i=this.textTracks(),o=this.remoteTextTracks(),s=(o.on("addtrack",t),o.on("removetrack",e),this.addWebVttScript_(),function(){return r.trigger("texttrackchange")});n(),i.addEventListener("change",n),i.addEventListener("addtrack",n),i.addEventListener("removetrack",n),this.on("dispose",(function(){o.off("addtrack",t),o.off("removetrack",e),i.removeEventListener("change",n),i.removeEventListener("addtrack",n),i.removeEventListener("removetrack",n);for(var r=0;r<i.length;r++)i[r].removeEventListener("cuechange",s)}))},En.prototype.addTextTrack=function(t,e,n){if(t)return function(t,e,n,r,i){var o=4<arguments.length&&void 0!==i?i:{},s=t.textTracks();o.kind=e,n&&(o.label=n),r&&(o.language=r),o.tech=t,o=new Tn.text.TrackClass(o);return s.addTrack(o),o}(this,t,e,n);throw new Error("TextTrack kind is required but was not provided")},En.prototype.createRemoteTextTrack=function(t){return t=ue(t,{tech:this}),new bn.remoteTextEl.TrackClass(t)},En.prototype.addRemoteTextTrack=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],r=this.createRemoteTextTrack(e);return!0!==n&&!1!==n&&(U.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!0!==n&&this.ready((function(){return t.autoRemoteTextTracks_.addTrack(r.track)})),r},En.prototype.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},En.prototype.getVideoPlaybackQuality=function(){return{}},En.prototype.setPoster=function(){},En.prototype.playsinline=function(){},En.prototype.setPlaysinline=function(){},En.prototype.canPlayType=function(){return""},En.canPlayType=function(){return""},En.canPlaySource=function(t,e){return En.canPlayType(t.type)},En.isTech=function(t){return t.prototype instanceof En||t instanceof En||t===En},En.registerTech=function(t,e){if(En.techs_||(En.techs_={}),!En.isTech(e))throw new Error("Tech "+t+" must be a Tech");if(!En.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(En.canPlaySource)return t=he(t),En.techs_[t]=e,"Tech"!==t&&En.defaultTechOrder_.push(t),e;throw new Error("Techs must have a static canPlaySource method on them")},En.getTech=function(t){if(t)return t=he(t),En.techs_&&En.techs_[t]?En.techs_[t]:h&&h.videojs&&h.videojs[t]?(U.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),h.videojs[t]):void 0};var Cn,kn=En;function En(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},n=(i(this,En),t.reportTouchActivity=!1,s(this,Cn.call(this,null,t,e)));return n.hasStarted_=!1,n.on("playing",(function(){this.hasStarted_=!0})),n.on("loadstart",(function(){this.hasStarted_=!1})),Tn.names.forEach((function(e){e=Tn[e],t&&t[e.getterName]&&(n[e.privateName]=t[e.getterName])})),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(n["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.autoRemoteTextTracks_=new Tn.text.ListClass,n.initTrackListeners(),t.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}Tn.names.forEach((function(t){var e=Tn[t];kn.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}})),kn.prototype.featuresVolumeControl=!0,kn.prototype.featuresMuteControl=!0,kn.prototype.featuresFullscreenResize=!1,kn.prototype.featuresPlaybackRate=!1,kn.prototype.featuresProgressEvents=!1,kn.prototype.featuresSourceset=!1,kn.prototype.featuresTimeupdateEvents=!1,kn.prototype.featuresNativeTextTracks=!1,kn.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var r=(r=t.sourceHandlers)||(t.sourceHandlers=[]);void 0===n&&(n=r.length),r.splice(n,0,e)},t.canPlayType=function(e){for(var n,r=t.sourceHandlers||[],i=0;i<r.length;i++)if(n=r[i].canPlayType(e))return n;return""},t.selectSourceHandler=function(e,n){for(var r=t.sourceHandlers||[],i=0;i<r.length;i++)if(r[i].canHandleSource(e,n))return r[i];return null},t.canPlaySource=function(e,n){var r=t.selectSourceHandler(e,n);return r?r.canHandleSource(e,n):""},["seekable","seeking","duration"].forEach((function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(e){var n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:U.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},pe.registerComponent("Tech",kn),kn.registerTech("Tech",kn),kn.defaultTechOrder_=[];var Sn={},wn={},xn={};function jn(t,e,n){t.setTimeout((function(){return function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=arguments[2],i=arguments[3],o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],s=5<arguments.length&&void 0!==arguments[5]&&arguments[5],a=n[0],l=n.slice(1);if("string"==typeof a)t(e,Sn[a],r,i,o,s);else if(a){var c=In(i,a);if(!c.setSource)return o.push(c),t(e,l,r,i,o,s);c.setSource(H({},e),(function(n,a){if(n)return t(e,l,r,i,o,s);o.push(c),t(a,e.type===a.type?l:Sn[a.type],r,i,o,s)}))}else l.length?t(e,l,r,i,o,s):s?r(e,o):t(e,Sn["*"],r,i,o,!0)}(e,Sn[e.type],n,t)}),1)}function Pn(t,e,n,r){for(var i=3<arguments.length&&void 0!==r?r:null,o="call"+he(n),s=(o=t.reduce(Nn(o),i),i=o===xn,o=i?null:e[n](o),t),a=n,l=o,c=i,h=s.length-1;0<=h;h--){var u=s[h];u[a]&&u[a](c,l)}return o}var An={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},On={setCurrentTime:1},Mn={play:1,pause:1};function Nn(t){return function(e,n){return e===xn?xn:n[t]?n[t](e):e}}function In(t,e){var n=wn[t.id()],r=null;if(null==n)r=e(t),wn[t.id()]=[[e,r]];else{for(var i=0;i<n.length;i++){var o=n[i],s=o[0];o=o[1];s===e&&(r=o)}null===r&&(r=e(t),n.push([e,r]))}return r}function Dn(t){var e;return Array.isArray(t)?(e=[],t.forEach((function(t){t=Dn(t),Array.isArray(t)?e=e.concat(t):V(t)&&e.push(t)})),e):"string"==typeof t&&t.trim()?[Rn({src:t})]:V(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[Rn(t)]:[]}var Ln={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},Fn=function(){var t=sn(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"");return Ln[t.toLowerCase()]||""};function Rn(t){var e=Fn(t.src);return!t.type&&e&&(t.type=e),t}o(Hn,Bn=pe);var Bn;n=Hn;function Hn(t,e,n){i(this,Hn);var r=ue({createEl:!1},e);r=s(this,Bn.call(this,t,r,n));if(e.playerOptions.sources&&0!==e.playerOptions.sources.length)t.src(e.playerOptions.sources);else for(var o=0,a=e.playerOptions.techOrder;o<a.length;o++){var l=he(a[o]),c=kn.getTech(l);if((c=l?c:pe.getComponent(l))&&c.isSupported()){t.loadTech_(l);break}}return r}pe.registerComponent("MediaLoader",n),o(zn,Vn=pe),zn.prototype.createEl=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};e=H({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},e),"button"===t&&U.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),n=H({role:"button"},n),this.tabIndex_=e.tabIndex,t=Vn.prototype.createEl.call(this,t,e,n);return this.createControlTextEl(t),t},zn.prototype.dispose=function(){this.controlTextEl_=null,Vn.prototype.dispose.call(this)},zn.prototype.createControlTextEl=function(t){return this.controlTextEl_=tt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},zn.prototype.controlText=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,et(this.controlTextEl_,n),this.nonIconControl||e.setAttribute("title",n)},zn.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+Vn.prototype.buildCSSClass.call(this)},zn.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},zn.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},zn.prototype.handleClick=function(t){},zn.prototype.handleFocus=function(t){Rt(u,"keydown",re(this,this.handleKeyPress))},zn.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.trigger("click")):Vn.prototype.handleKeyPress&&Vn.prototype.handleKeyPress.call(this,t)},zn.prototype.handleBlur=function(t){Bt(u,"keydown",re(this,this.handleKeyPress))};var Vn;m=zn;function zn(t,e){return i(this,zn),t=s(this,Vn.call(this,t,e)),t.emitTapEvents(),t.enable(),t}pe.registerComponent("ClickableComponent",m),o(Un,Wn=m),Un.prototype.dispose=function(){this.player().off("posterchange",this.update),Wn.prototype.dispose.call(this)},Un.prototype.createEl=function(){var t=tt("div",{className:"vjs-poster",tabIndex:-1});return D||(this.fallbackImg_=tt("img"),t.appendChild(this.fallbackImg_)),t},Un.prototype.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},Un.prototype.setSrc=function(t){this.fallbackImg_?this.fallbackImg_.src=t:this.el_.style.backgroundImage=t?'url("'+t+'")':""},Un.prototype.handleClick=function(t){this.player_.controls()&&(this.player_.paused()?xe(this.player_.play()):this.player_.pause())};var Wn;b=Un;function Un(t,e){return i(this,Un),e=s(this,Wn.call(this,t,e)),e.update(),t.on("posterchange",re(e,e.update)),e}pe.registerComponent("PosterImage",b);var Kn="#222",qn={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function $n(t,e){var n=void 0;if(4===t.length)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");n=t.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function Gn(t,e,n){try{t.style[e]=n}catch(t){}}o(Xn,Yn=pe),Xn.prototype.preselectTrack=function(){for(var t={captions:1,subtitles:1},e=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,r=void 0,i=void 0,o=void 0,s=0;s<e.length;s++){var a=e[s];n&&n.enabled&&n.language===a.language?o=a.kind!==n.kind&&o||a:n&&!n.enabled?i=r=o=null:a.default&&("descriptions"!==a.kind||r?a.kind in t&&!i&&(i=a):r=a)}o?o.mode="showing":i?i.mode="showing":r&&(r.mode="showing")},Xn.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},Xn.prototype.createEl=function(){return Yn.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},Xn.prototype.clearDisplay=function(){"function"==typeof h.WebVTT&&h.WebVTT.processCues(h,[],this.el_)},Xn.prototype.updateDisplay=function(){for(var t=this.player_.textTracks(),e=(this.clearDisplay(),null),n=null,r=t.length;r--;){var i=t[r];"showing"===i.mode&&("descriptions"===i.kind?e=i:n=i)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))},Xn.prototype.updateForTrack=function(t){if("function"==typeof h.WebVTT&&t.activeCues){for(var e=[],n=0;n<t.activeCues.length;n++)e.push(t.activeCues[n]);if(h.WebVTT.processCues(h,e,this.el_),this.player_.textTrackSettings)for(var r=this.player_.textTrackSettings.getValues(),i=e.length;i--;){var o,s=e[i];s&&(s=s.displayState,r.color&&(s.firstChild.style.color=r.color),r.textOpacity&&Gn(s.firstChild,"color",$n(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(s.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&Gn(s.firstChild,"backgroundColor",$n(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?Gn(s,"backgroundColor",$n(r.windowColor,r.windowOpacity)):s.style.backgroundColor=r.windowColor),r.edgeStyle&&("dropshadow"===r.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+Kn:"raised"===r.edgeStyle?s.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+Kn:"depressed"===r.edgeStyle?s.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+Kn:"uniform"===r.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+Kn)),r.fontPercent&&1!==r.fontPercent&&(o=h.parseFloat(s.style.fontSize),s.style.fontSize=o*r.fontPercent+"px",s.style.height="auto",s.style.top="auto",s.style.bottom="2px"),r.fontFamily&&"default"!==r.fontFamily&&("small-caps"===r.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=qn[r.fontFamily]))}}};var Yn;C=Xn;function Xn(t,e,n){i(this,Xn);e=s(this,Yn.call(this,t,e,n));var r=re(e,e.updateDisplay);return t.on("loadstart",re(e,e.toggleDisplay)),t.on("texttrackchange",r),t.on("loadstart",re(e,e.preselectTrack)),t.ready(re(e,(function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",r),t.on("playerresize",r),h.addEventListener&&h.addEventListener("orientationchange",r),t.on("dispose",(function(){return h.removeEventListener("orientationchange",r)}));for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()}}))),e}pe.registerComponent("TextTrackDisplay",C),o(Qn,Jn=pe),Qn.prototype.createEl=function(){var t=this.player_.isAudio(),e=(t=this.localize(t?"Audio Player":"Video Player"),t=tt("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[t])}),Jn.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"}));return e.appendChild(t),e};var Jn;gn=Qn;function Qn(){return i(this,Qn),s(this,Jn.apply(this,arguments))}pe.registerComponent("LoadingSpinner",gn),o(er,Zn=m),er.prototype.createEl=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};t="button",e=H({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),n=H({type:"button"},n),e=pe.prototype.createEl.call(this,t,e,n);return this.createControlTextEl(e),e},er.prototype.addChild=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return U.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),pe.prototype.addChild.call(this,t,e)},er.prototype.enable=function(){Zn.prototype.enable.call(this),this.el_.removeAttribute("disabled")},er.prototype.disable=function(){Zn.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},er.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&Zn.prototype.handleKeyPress.call(this,t)};var Zn,tr=er;function er(){return i(this,er),s(this,Zn.apply(this,arguments))}pe.registerComponent("Button",tr),o(rr,nr=tr),rr.prototype.buildCSSClass=function(){return"vjs-big-play-button"},rr.prototype.handleClick=function(t){var e,n=this.player_.play();this.mouseused_&&t.clientX&&t.clientY?xe(n):(t=this.player_.getChild("controlBar"),(e=t&&t.getChild("playToggle"))?(t=function(){return e.focus()},we(n)?n.then(t,(function(){})):this.setTimeout(t,1)):this.player_.focus())},rr.prototype.handleKeyPress=function(t){this.mouseused_=!1,nr.prototype.handleKeyPress.call(this,t)},rr.prototype.handleMouseDown=function(t){this.mouseused_=!0};var nr;n=rr;function rr(t,e){return i(this,rr),t=s(this,nr.call(this,t,e)),t.mouseused_=!1,t.on("mousedown",t.handleMouseDown),t}n.prototype.controlText_="Play Video",pe.registerComponent("BigPlayButton",n),o(or,ir=tr),or.prototype.buildCSSClass=function(){return"vjs-close-button "+ir.prototype.buildCSSClass.call(this)},or.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})};var ir;b=or;function or(t,e){return i(this,or),t=s(this,ir.call(this,t,e)),t.controlText(e&&e.controlText||t.localize("Close")),t}pe.registerComponent("CloseButton",b),o(ar,sr=tr),ar.prototype.buildCSSClass=function(){return"vjs-play-control "+sr.prototype.buildCSSClass.call(this)},ar.prototype.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},ar.prototype.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},ar.prototype.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},ar.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},ar.prototype.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)};var sr;C=ar;function ar(t,e){return i(this,ar),e=s(this,sr.call(this,t,e)),e.on(t,"play",e.handlePlay),e.on(t,"pause",e.handlePause),e.on(t,"ended",e.handleEnded),e}function lr(t,e){t=t<0?0:t;var n=Math.floor(t%60),r=Math.floor(t/60%60),i=Math.floor(t/3600),o=Math.floor(e/60%60);e=Math.floor(e/3600);return(i=0<(i=isNaN(t)||t===1/0?r=n="-":i)||0<e?i+":":"")+(r=((i||10<=o)&&r<10?"0"+r:r)+":")+(n<10?"0"+n:n)}C.prototype.controlText_="Play",pe.registerComponent("PlayToggle",C);var cr=lr;function hr(t){return cr(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:t)}o(pr,ur=pe),pr.prototype.createEl=function(t){var e=this.buildCSSClass(),n=ur.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=tt("span",{className:e+"-display"},{"aria-live":"off"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},pr.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,ur.prototype.dispose.call(this)},pr.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=u.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},pr.prototype.formatTime_=function(t){return hr(t)},pr.prototype.updateFormattedTime_=function(t){t=this.formatTime_(t),t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},pr.prototype.updateContent=function(t){};var ur;gn=pr;function pr(t,e){return i(this,pr),e=s(this,ur.call(this,t,e)),e.throttledUpdateContent=Yt(re(e,e.updateContent),25),e.on(t,"timeupdate",e.throttledUpdateContent),e}gn.prototype.labelText_="Time",gn.prototype.controlText_="Time",pe.registerComponent("TimeDisplay",gn),o(fr,dr=gn),fr.prototype.buildCSSClass=function(){return"vjs-current-time"},fr.prototype.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)},fr.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())};var dr;n=fr;function fr(t,e){return i(this,fr),e=s(this,dr.call(this,t,e)),e.on(t,"ended",e.handleEnded),e}n.prototype.labelText_="Current Time",n.prototype.controlText_="Current Time",pe.registerComponent("CurrentTimeDisplay",n),o(vr,yr=gn),vr.prototype.buildCSSClass=function(){return"vjs-duration"},vr.prototype.updateContent=function(t){var e=this.player_.duration();e&&this.duration_!==e&&(this.duration_=e,this.updateFormattedTime_(e))};var yr;b=vr;function vr(t,e){return i(this,vr),e=s(this,yr.call(this,t,e)),e.on(t,"durationchange",e.updateContent),e.on(t,"loadedmetadata",e.throttledUpdateContent),e}b.prototype.labelText_="Duration",b.prototype.controlText_="Duration",pe.registerComponent("DurationDisplay",b),o(mr,gr=pe),mr.prototype.createEl=function(){return gr.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};var gr;C=mr;function mr(){return i(this,mr),s(this,gr.apply(this,arguments))}pe.registerComponent("TimeDivider",C),o(br,_r=gn),br.prototype.buildCSSClass=function(){return"vjs-remaining-time"},br.prototype.formatTime_=function(t){return"-"+_r.prototype.formatTime_.call(this,t)},br.prototype.updateContent=function(t){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},br.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)};var _r;n=br;function br(t,e){return i(this,br),e=s(this,_r.call(this,t,e)),e.on(t,"durationchange",e.throttledUpdateContent),e.on(t,"ended",e.handleEnded),e}n.prototype.labelText_="Remaining Time",n.prototype.controlText_="Remaining Time",pe.registerComponent("RemainingTimeDisplay",n),o(Cr,Tr=pe),Cr.prototype.createEl=function(){var t=Tr.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=tt("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},Cr.prototype.dispose=function(){this.contentEl_=null,Tr.prototype.dispose.call(this)},Cr.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()};var Tr;b=Cr;function Cr(t,e){return i(this,Cr),t=s(this,Tr.call(this,t,e)),t.updateShowing(),t.on(t.player(),"durationchange",t.updateShowing),t}pe.registerComponent("LiveDisplay",b),o(Er,kr=pe),Er.prototype.enabled=function(){return this.enabled_},Er.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},Er.prototype.disable=function(){var t;this.enabled()&&(t=this.bar.el_.ownerDocument,this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1)},Er.prototype.createEl=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return e.className=e.className+" vjs-slider",e=H({tabIndex:0},e),n=H({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),kr.prototype.createEl.call(this,t,e,n)},Er.prototype.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||P||t.preventDefault(),pt(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},Er.prototype.handleMouseMove=function(t){},Er.prototype.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;dt(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},Er.prototype.update=function(){if(this.el_){var t,e=this.getPercent(),n=this.bar;if(n)return t=(100*(e="number"!=typeof e||e!=e||e<0||e===1/0?0:e)).toFixed(2)+"%",n=n.el().style,this.vertical()?n.height=t:n.width=t,e}},Er.prototype.calculateDistance=function(t){return t=vt(this.el_,t),this.vertical()?t.y:t.x},Er.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},Er.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},Er.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},Er.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},Er.prototype.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")};var kr;C=Er;function Er(t,e){return i(this,Er),t=s(this,kr.call(this,t,e)),t.bar=t.getChild(t.options_.barName),t.vertical(!!t.options_.vertical),t.enable(),t}pe.registerComponent("Slider",C),o(wr,Sr=pe),wr.prototype.createEl=function(){return Sr.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},wr.prototype.dispose=function(){this.partEls_=null,Sr.prototype.dispose.call(this)},wr.prototype.update=function(t){function e(t,e){return 100*(1<=(t=t/e||0)?1:t)+"%"}var n=this.player_.buffered(),r=this.player_.duration(),i=this.player_.bufferedEnd(),o=this.partEls_;this.el_.style.width=e(i,r);for(var s=0;s<n.length;s++){var a=n.start(s),l=n.end(s),c=o[s];c||(c=this.el_.appendChild(tt()),o[s]=c),c.style.left=e(a,i),c.style.width=e(l-a,i)}for(var h=o.length;h>n.length;h--)this.el_.removeChild(o[h-1]);o.length=n.length};var Sr;gn=wr;function wr(t,e){return i(this,wr),e=s(this,Sr.call(this,t,e)),e.partEls_=[],e.on(t,"progress",e.update),e}pe.registerComponent("LoadProgressBar",gn),o(jr,xr=pe),jr.prototype.createEl=function(){return xr.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},jr.prototype.update=function(t,e,n){var r,i=ft(this.el_),o=ft(this.player_.el());e=t.width*e;o&&i&&(r=t.left-o.left+e,e=t.width-e+(o.right-t.right),r<(o=i.width/2)?o+=o-r:e<o&&(o=e),o<0?o=0:o>i.width&&(o=i.width),this.el_.style.right="-"+o+"px",et(this.el_,n))};var xr;n=jr;function jr(){return i(this,jr),s(this,xr.apply(this,arguments))}pe.registerComponent("TimeTooltip",n),o(Ar,Pr=pe),Ar.prototype.createEl=function(){return Pr.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},Ar.prototype.update=function(t,e){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var r=n.player_.scrubbing()?n.player_.getCache().currentTime:n.player_.currentTime(),i=(r=hr(r,n.player_.duration()),n.getChild("timeTooltip"));i&&i.update(t,e,r)}))};var Pr;b=Ar;function Ar(){return i(this,Ar),s(this,Pr.apply(this,arguments))}b.prototype.options_={children:[]},M&&!(8<M)||T||k||b.prototype.options_.children.push("timeTooltip"),pe.registerComponent("PlayProgressBar",b),o(Mr,Or=pe),Mr.prototype.createEl=function(){return Or.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},Mr.prototype.update=function(t,e){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var r=n.player_.duration();r=hr(e*r,r);n.el_.style.left=t.width*e+"px",n.getChild("timeTooltip").update(t,e,r)}))};var Or;gn=Mr;function Mr(t,e){return i(this,Mr),t=s(this,Or.call(this,t,e)),t.update=Yt(re(t,t.update),25),t}gn.prototype.options_={children:["timeTooltip"]},pe.registerComponent("MouseTimeDisplay",gn),o(Ir,Nr=C),Ir.prototype.setEventHandlers_=function(){var t=this;this.update=Yt(re(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],(function(){t.clearInterval(t.updateInterval),t.updateInterval=t.setInterval((function(){t.requestAnimationFrame((function(){t.update()}))}),30)})),this.on(this.player_,["ended","pause","waiting"],(function(){t.clearInterval(t.updateInterval)})),this.on(this.player_,["timeupdate","ended"],this.update)},Ir.prototype.createEl=function(){return Nr.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},Ir.prototype.update_=function(t,e){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[hr(t,n),hr(n,n)],"{1} of {2}")),this.bar.update(ft(this.el_),e)},Ir.prototype.update=function(t){var e=Nr.prototype.update.call(this);return this.update_(this.getCurrentTime_(),e),e},Ir.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},Ir.prototype.handleEnded=function(t){this.update_(this.player_.duration(),1)},Ir.prototype.getPercent=function(){var t=this.getCurrentTime_()/this.player_.duration();return 1<=t?1:t},Ir.prototype.handleMouseDown=function(t){Ct(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),Nr.prototype.handleMouseDown.call(this,t))},Ir.prototype.handleMouseMove=function(t){Ct(t)&&((t=this.calculateDistance(t)*this.player_.duration())===this.player_.duration()&&(t-=.1),this.player_.currentTime(t))},Ir.prototype.enable=function(){Nr.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},Ir.prototype.disable=function(){Nr.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},Ir.prototype.handleMouseUp=function(t){Nr.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&xe(this.player_.play())},Ir.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},Ir.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},Ir.prototype.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},Ir.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleAction(t)):Nr.prototype.handleKeyPress&&Nr.prototype.handleKeyPress.call(this,t)};var Nr;n=Ir;function Ir(t,e){return i(this,Ir),t=s(this,Nr.call(this,t,e)),t.setEventHandlers_(),t}n.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},M&&!(8<M)||T||k||n.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),n.prototype.playerEvent="timeupdate",pe.registerComponent("SeekBar",n),o(Lr,Dr=pe),Lr.prototype.createEl=function(){return Dr.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},Lr.prototype.handleMouseMove=function(t){var e,n,r=this.getChild("seekBar");r&&(e=r.getChild("mouseTimeDisplay"),n=ft(r=r.el()),1<(r=vt(r,t).x)?r=1:r<0&&(r=0),e&&e.update(n,r))},Lr.prototype.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},Lr.prototype.enabled=function(){return this.enabled_},Lr.prototype.disable=function(){this.children().forEach((function(t){return t.disable&&t.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},Lr.prototype.enable=function(){this.children().forEach((function(t){return t.enable&&t.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},Lr.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},Lr.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)};var Dr;b=Lr;function Lr(t,e){return i(this,Lr),t=s(this,Dr.call(this,t,e)),t.handleMouseMove=Yt(re(t,t.handleMouseMove),25),t.throttledHandleMouseSeek=Yt(re(t,t.handleMouseSeek),25),t.enable(),t}b.prototype.options_={children:["seekBar"]},pe.registerComponent("ProgressControl",b),o(Rr,Fr=tr),Rr.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+Fr.prototype.buildCSSClass.call(this)},Rr.prototype.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},Rr.prototype.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()};var Fr;gn=Rr;function Rr(t,e){return i(this,Rr),e=s(this,Fr.call(this,t,e)),e.on(t,"fullscreenchange",e.handleFullscreenChange),!1===u[me.fullscreenEnabled]&&e.disable(),e}gn.prototype.controlText_="Fullscreen",pe.registerComponent("FullscreenToggle",gn),o(Hr,Br=pe),Hr.prototype.createEl=function(){return Br.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};var Br;n=Hr;function Hr(){return i(this,Hr),s(this,Br.apply(this,arguments))}pe.registerComponent("VolumeLevel",n),o(zr,Vr=C),zr.prototype.createEl=function(){return Vr.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},zr.prototype.handleMouseDown=function(t){Ct(t)&&Vr.prototype.handleMouseDown.call(this,t)},zr.prototype.handleMouseMove=function(t){Ct(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},zr.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},zr.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},zr.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},zr.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},zr.prototype.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},zr.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},zr.prototype.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",(function(){0===t.player_.volume()&&t.player_.lastVolume_(e)}))};var Vr;b=zr;function zr(t,e){i(this,zr);var n=s(this,Vr.call(this,t,e));return n.on("slideractive",n.updateLastVolume_),n.on(t,"volumechange",n.updateARIAAttributes),t.ready((function(){return n.updateARIAAttributes()})),n}b.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},b.prototype.playerEvent="volumechange",pe.registerComponent("VolumeBar",b),o(Ur,Wr=pe),Ur.prototype.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),Wr.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},Ur.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},Ur.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},Ur.prototype.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)};var Wr;gn=Ur;function Ur(t){var e,n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=(i(this,Ur),r.vertical=r.vertical||!1,void 0!==r.volumeBar&&!z(r.volumeBar)||(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),s(this,Wr.call(this,t,r)));return e=o,(n=t).tech_&&!n.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(n,"loadstart",(function(){n.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})),o.throttledHandleMouseMove=Yt(re(o,o.handleMouseMove),25),o.on("mousedown",o.handleMouseDown),o.on("touchstart",o.handleMouseDown),o.on(o.volumeBar,["focus","slideractive"],(function(){o.volumeBar.addClass("vjs-slider-active"),o.addClass("vjs-slider-active"),o.trigger("slideractive")})),o.on(o.volumeBar,["blur","sliderinactive"],(function(){o.volumeBar.removeClass("vjs-slider-active"),o.removeClass("vjs-slider-active"),o.trigger("sliderinactive")})),o}gn.prototype.options_={children:["volumeBar"]},pe.registerComponent("VolumeControl",gn),o(qr,Kr=tr),qr.prototype.buildCSSClass=function(){return"vjs-mute-control "+Kr.prototype.buildCSSClass.call(this)},qr.prototype.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();0===e?(this.player_.volume(n<.1?.1:n),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},qr.prototype.update=function(t){this.updateIcon_(),this.updateControlText_()},qr.prototype.updateIcon_=function(){var t=this.player_.volume(),e=3;T&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)ot(this.el_,"vjs-vol-"+n);it(this.el_,"vjs-vol-"+e)},qr.prototype.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)};var Kr;n=qr;function qr(t,e){i(this,qr);var n,r;e=s(this,Kr.call(this,t,e));return n=e,(r=t).tech_&&!r.tech_.featuresMuteControl&&n.addClass("vjs-hidden"),n.on(r,"loadstart",(function(){r.tech_.featuresMuteControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})),e.on(t,["loadstart","volumechange"],e.update),e}n.prototype.controlText_="Mute",pe.registerComponent("MuteToggle",n),o(Gr,$r=pe),Gr.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},Gr.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},Gr.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},Gr.prototype.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),$r.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})};var $r;C=Gr;function Gr(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i(this,Gr),void 0!==e.inline?e.inline=e.inline:e.inline=!0,void 0!==e.volumeControl&&!z(e.volumeControl)||(e.volumeControl=e.volumeControl||{},e.volumeControl.vertical=!e.inline),e=s(this,$r.call(this,t,e));return e.on(t,["loadstart"],e.volumePanelState_),e.on(e.volumeControl,["slideractive"],e.sliderActive_),e.on(e.volumeControl,["sliderinactive"],e.sliderInactive_),e}C.prototype.options_={children:["muteToggle","volumeControl"]},pe.registerComponent("VolumePanel",C),o(Jr,Yr=pe),Jr.prototype.addItem=function(t){this.addChild(t),t.on("click",re(this,(function(e){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==t.name()&&this.menuButton_.focus())})))},Jr.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=tt(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu"),t=Yr.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),Rt(t,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),t},Jr.prototype.dispose=function(){this.contentEl_=null,Yr.prototype.dispose.call(this)},Jr.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},Jr.prototype.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},Jr.prototype.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},Jr.prototype.focus=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),0<e.length&&(t<0?t=0:t>=e.length&&(t=e.length-1),e[this.focusedChild_=t].el_.focus())};var Yr,Xr=Jr;function Jr(t,e){return i(this,Jr),t=s(this,Yr.call(this,t,e)),e&&(t.menuButton_=e.menuButton),t.focusedChild_=-1,t.on("keydown",t.handleKeyPress),t}pe.registerComponent("Menu",Xr),o(Zr,Qr=pe),Zr.prototype.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},Zr.prototype.createMenu=function(){var t,e=new Xr(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title&&(t=tt("li",{className:"vjs-menu-title",innerHTML:he(this.options_.title),tabIndex:-1}),this.hideThreshold_+=1,e.children_.unshift(t),nt(t,e.contentEl())),this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},Zr.prototype.createItems=function(){},Zr.prototype.createEl=function(){return Qr.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},Zr.prototype.buildWrapperCSSClass=function(){var t="vjs-menu-button",e=(!0===this.options_.inline?t+="-inline":t+="-popup",tr.prototype.buildCSSClass());return"vjs-menu-button "+t+" "+e+" "+Qr.prototype.buildCSSClass.call(this)},Zr.prototype.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+Qr.prototype.buildCSSClass.call(this)},Zr.prototype.controlText=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(t,e)},Zr.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",re(this,(function(t){this.unpressButton(),this.el_.blur()}))),this.buttonPressed_?this.unpressButton():this.pressButton()},Zr.prototype.focus=function(){this.menuButton_.focus()},Zr.prototype.blur=function(){this.menuButton_.blur()},Zr.prototype.handleFocus=function(){Rt(u,"keydown",re(this,this.handleKeyPress))},Zr.prototype.handleBlur=function(){Bt(u,"keydown",re(this,this.handleKeyPress))},Zr.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus())):38!==t.which&&40!==t.which||this.buttonPressed_||(this.pressButton(),t.preventDefault())},Zr.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus()))},Zr.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),T&&Q()||this.menu.focus())},Zr.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},Zr.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},Zr.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()};var Qr;b=Zr;function Zr(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=(i(this,Zr),s(this,Qr.call(this,t,e)));n.menuButton_=new tr(t,e),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true"),e=tr.prototype.buildCSSClass();return n.menuButton_.el_.className=n.buildCSSClass()+" "+e,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0,n.on(n.menuButton_,"tap",n.handleClick),n.on(n.menuButton_,"click",n.handleClick),n.on(n.menuButton_,"focus",n.handleFocus),n.on(n.menuButton_,"blur",n.handleBlur),n.on("keydown",n.handleSubmenuKeyPress),n}pe.registerComponent("MenuButton",b),o(ei,ti=b);var ti;gn=ei;function ei(t,e){i(this,ei);var n,r=e.tracks;t=s(this,ti.call(this,t,e));return t.items.length<=1&&t.hide(),r?(n=re(t,t.update),r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),t.player_.on("ready",n),t.player_.on("dispose",(function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)})),t):s(t)}pe.registerComponent("TrackButton",gn),o(ri,ni=m),ri.prototype.createEl=function(t,e,n){return this.nonIconControl=!0,ni.prototype.createEl.call(this,"li",H({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},e),n)},ri.prototype.handleClick=function(t){this.selected(!0)},ri.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))};var ni;n=ri;function ri(t,e){return i(this,ri),t=s(this,ni.call(this,t,e)),t.selectable=e.selectable,t.isSelected_=e.selected||!1,t.multiSelectable=e.multiSelectable,t.selected(t.isSelected_),t.selectable?t.multiSelectable?t.el_.setAttribute("role","menuitemcheckbox"):t.el_.setAttribute("role","menuitemradio"):t.el_.setAttribute("role","menuitem"),t}pe.registerComponent("MenuItem",n),o(si,ii=n),si.prototype.handleClick=function(t){var e=this.track.kind,n=this.track.kinds,r=this.player_.textTracks();n=n||[e];if(ii.prototype.handleClick.call(this,t),r)for(var i=0;i<r.length;i++){var o=r[i];o===this.track&&-1<n.indexOf(o.kind)?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled")}},si.prototype.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},si.prototype.handleSelectedLanguageChange=function(t){var e;"showing"!==this.track.mode||(e=this.player_.cache_.selectedLanguage)&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind||(this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind})},si.prototype.dispose=function(){this.track=null,ii.prototype.dispose.call(this)};var ii,oi=si;function si(t,e){function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];c.handleTracksChange.apply(c,e)}function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];c.handleSelectedLanguageChange.apply(c,e)}i(this,si);var o,a=e.track,l=t.textTracks(),c=(e.label=a.label||a.language||"Unknown",e.selected="showing"===a.mode,s(this,ii.call(this,t,e)));return c.track=a,t.on(["loadstart","texttrackchange"],n),l.addEventListener("change",n),l.addEventListener("selectedlanguagechange",r),c.on("dispose",(function(){t.off(["loadstart","texttrackchange"],n),l.removeEventListener("change",n),l.removeEventListener("selectedlanguagechange",r)})),void 0===l.onchange&&(o=void 0,c.on(["tap","click"],(function(){if("object"!==F(h.Event))try{o=new h.Event("change")}catch(t){}o||(o=u.createEvent("Event")).initEvent("change",!0,!0),l.dispatchEvent(o)}))),c.handleTracksChange(),c}pe.registerComponent("TextTrackMenuItem",oi),o(ci,ai=oi),ci.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,r=0,i=e.length;r<i;r++){var o=e[r];if(-1<this.options_.kinds.indexOf(o.kind)&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},ci.prototype.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,r=0,i=e.length;r<i;r++){var o=e[r];if(-1<["captions","descriptions","subtitles"].indexOf(o.kind)&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})};var ai,li=ci;function ci(t,e){return i(this,ci),e.track={player:t,kind:e.kind,kinds:e.kinds,default:!1,mode:"disabled"},e.kinds||(e.kinds=[e.kind]),e.label?e.track.label=e.label:e.track.label=e.kinds.join(" and ")+" off",e.selectable=!0,e.multiSelectable=!1,s(this,ai.call(this,t,e))}pe.registerComponent("OffTextTrackMenuItem",li),o(ui,hi=gn),ui.prototype.createItems=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:oi,n=void 0,r=(this.label_&&(n=this.label_+" off"),t.push(new li(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1,this.player_.textTracks());Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<r.length;i++){var o,s=r[i];-1<this.kinds_.indexOf(s.kind)&&((o=new e(this.player_,{track:s,selectable:!0,multiSelectable:!1})).addClass("vjs-"+s.kind+"-menu-item"),t.push(o))}return t};var hi;C=ui;function ui(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return i(this,ui),e.tracks=t.textTracks(),s(this,hi.call(this,t,e))}pe.registerComponent("TextTrackButton",C),o(fi,pi=n),fi.prototype.handleClick=function(t){pi.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},fi.prototype.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)};var pi,di=fi;function fi(t,e){i(this,fi);var n=e.track,r=e.cue,o=t.currentTime();e.selectable=!0,e.multiSelectable=!1,e.label=r.text,e.selected=r.startTime<=o&&o<r.endTime,o=s(this,pi.call(this,t,e));return o.track=n,o.cue=r,n.addEventListener("cuechange",re(o,o.update)),o}pe.registerComponent("ChaptersTrackMenuItem",di),o(vi,yi=C),vi.prototype.buildCSSClass=function(){return"vjs-chapters-button "+yi.prototype.buildCSSClass.call(this)},vi.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+yi.prototype.buildWrapperCSSClass.call(this)},vi.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),yi.prototype.update.call(this)},vi.prototype.setTrack=function(t){var e;this.track_!==t&&(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_&&((e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&e.removeEventListener("load",this.updateHandler_),this.track_=null),this.track_=t,this.track_&&(this.track_.mode="hidden",(e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&e.addEventListener("load",this.updateHandler_)))},vi.prototype.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;0<=e;e--){var n=t[e];if(n.kind===this.kind_)return n}},vi.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(he(this.kind_))},vi.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),yi.prototype.createMenu.call(this)},vi.prototype.createItems=function(){var t=[];if(this.track_){var e=this.track_.cues;if(e)for(var n=0,r=e.length;n<r;n++){var i=e[n];i=new di(this.player_,{track:this.track_,cue:i});t.push(i)}}return t};var yi;m=vi;function vi(t,e,n){return i(this,vi),s(this,yi.call(this,t,e,n))}m.prototype.kind_="chapters",m.prototype.controlText_="Chapters",pe.registerComponent("ChaptersButton",m),o(mi,gi=C),mi.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,r=0,i=e.length;r<i;r++){var o=e[r];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},mi.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+gi.prototype.buildCSSClass.call(this)},mi.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+gi.prototype.buildWrapperCSSClass.call(this)};var gi;m=mi;function mi(t,e,n){i(this,mi);e=s(this,gi.call(this,t,e,n));var r=t.textTracks(),o=re(e,e.handleTracksChange);return r.addEventListener("change",o),e.on("dispose",(function(){r.removeEventListener("change",o)})),e}m.prototype.kind_="descriptions",m.prototype.controlText_="Descriptions",pe.registerComponent("DescriptionsButton",m),o(bi,_i=C),bi.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+_i.prototype.buildCSSClass.call(this)},bi.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+_i.prototype.buildWrapperCSSClass.call(this)};var _i;m=bi;function bi(t,e,n){return i(this,bi),s(this,_i.call(this,t,e,n))}m.prototype.kind_="subtitles",m.prototype.controlText_="Subtitles",pe.registerComponent("SubtitlesButton",m),o(ki,Ti=oi),ki.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()};var Ti,Ci=ki;function ki(t,e){return i(this,ki),e.track={player:t,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1,e.name="CaptionSettingsMenuItem",t=s(this,Ti.call(this,t,e)),t.addClass("vjs-texttrack-settings"),t.controlText(", opens "+e.kind+" settings dialog"),t}pe.registerComponent("CaptionSettingsMenuItem",Ci),o(Si,Ei=C),Si.prototype.buildCSSClass=function(){return"vjs-captions-button "+Ei.prototype.buildCSSClass.call(this)},Si.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+Ei.prototype.buildWrapperCSSClass.call(this)},Si.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Ci(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),Ei.prototype.createItems.call(this,t)};var Ei;m=Si;function Si(t,e,n){return i(this,Si),s(this,Ei.call(this,t,e,n))}m.prototype.kind_="captions",m.prototype.controlText_="Captions",pe.registerComponent("CaptionsButton",m),o(ji,wi=oi),ji.prototype.createEl=function(t,e,n){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),wi.prototype.createEl.call(this,t,H({innerHTML:r+="</span>"},e),n)};var wi,xi=ji;function ji(){return i(this,ji),s(this,wi.apply(this,arguments))}pe.registerComponent("SubsCapsMenuItem",xi),o(Ai,Pi=C),Ai.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+Pi.prototype.buildCSSClass.call(this)},Ai.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+Pi.prototype.buildWrapperCSSClass.call(this)},Ai.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Ci(this.player_,{kind:this.label_})),this.hideThreshold_+=1),Pi.prototype.createItems.call(this,t,xi)};var Pi;m=Ai;function Ai(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i(this,Ai),e=s(this,Pi.call(this,t,e));return e.label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(e.player_.language_)&&(e.label_="captions"),e.menuButton_.controlText(he(e.label_)),e}m.prototype.kinds_=["captions","subtitles"],m.prototype.controlText_="Subtitles",pe.registerComponent("SubsCapsButton",m),o(Ni,Oi=n),Ni.prototype.createEl=function(t,e,n){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),Oi.prototype.createEl.call(this,t,H({innerHTML:r+="</span>"},e),n)},Ni.prototype.handleClick=function(t){var e=this.player_.audioTracks();Oi.prototype.handleClick.call(this,t);for(var n=0;n<e.length;n++){var r=e[n];r.enabled=r===this.track}},Ni.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)};var Oi,Mi=Ni;function Ni(t,e){function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];a.handleTracksChange.apply(a,e)}i(this,Ni);var r=e.track,o=t.audioTracks(),a=(e.label=r.label||r.language||"Unknown",e.selected=r.enabled,s(this,Oi.call(this,t,e)));return a.track=r,a.addClass("vjs-"+r.kind+"-menu-item"),o.addEventListener("change",n),a.on("dispose",(function(){o.removeEventListener("change",n)})),a}pe.registerComponent("AudioTrackMenuItem",Mi),o(Di,Ii=gn),Di.prototype.buildCSSClass=function(){return"vjs-audio-button "+Ii.prototype.buildCSSClass.call(this)},Di.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+Ii.prototype.buildWrapperCSSClass.call(this)},Di.prototype.createItems=function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=(this.hideThreshold_=1,this.player_.audioTracks()),n=0;n<e.length;n++){var r=e[n];t.push(new Mi(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return t};var Ii;C=Di;function Di(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return i(this,Di),e.tracks=t.audioTracks(),s(this,Ii.call(this,t,e))}C.prototype.controlText_="Audio Track",pe.registerComponent("AudioTrackButton",C),o(Ri,Li=n),Ri.prototype.handleClick=function(t){Li.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},Ri.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)};var Li,Fi=Ri;function Ri(t,e){i(this,Ri);var n=e.rate,r=parseFloat(n,10);e.label=n,e.selected=1===r,e.selectable=!0,e.multiSelectable=!1,e=s(this,Li.call(this,t,e));return e.label=n,e.rate=r,e.on(t,"ratechange",e.update),e}Fi.prototype.contentElType="button",pe.registerComponent("PlaybackRateMenuItem",Fi),o(Hi,Bi=b),Hi.prototype.createEl=function(){var t=Bi.prototype.createEl.call(this);return this.labelEl_=tt("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},Hi.prototype.dispose=function(){this.labelEl_=null,Bi.prototype.dispose.call(this)},Hi.prototype.buildCSSClass=function(){return"vjs-playback-rate "+Bi.prototype.buildCSSClass.call(this)},Hi.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+Bi.prototype.buildWrapperCSSClass.call(this)},Hi.prototype.createMenu=function(){var t=new Xr(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;0<=n;n--)t.addChild(new Fi(this.player(),{rate:e[n]+"x"}));return t},Hi.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},Hi.prototype.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),r=n[0],i=0;i<n.length;i++)if(n[i]>e){r=n[i];break}this.player().playbackRate(r)},Hi.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},Hi.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},Hi.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},Hi.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")};var Bi;m=Hi;function Hi(t,e){return i(this,Hi),e=s(this,Bi.call(this,t,e)),e.updateVisibility(),e.updateLabel(),e.on(t,"loadstart",e.updateVisibility),e.on(t,"ratechange",e.updateLabel),e}m.prototype.controlText_="Playback Rate",pe.registerComponent("PlaybackRateMenuButton",m),o(zi,Vi=pe),zi.prototype.buildCSSClass=function(){return"vjs-spacer "+Vi.prototype.buildCSSClass.call(this)},zi.prototype.createEl=function(){return Vi.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})};var Vi;gn=zi;function zi(){return i(this,zi),s(this,Vi.apply(this,arguments))}pe.registerComponent("Spacer",gn),o(Ui,Wi=gn),Ui.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+Wi.prototype.buildCSSClass.call(this)},Ui.prototype.createEl=function(){var t=Wi.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML=" ",t};var Wi;C=Ui;function Ui(){return i(this,Ui),s(this,Wi.apply(this,arguments))}pe.registerComponent("CustomControlSpacer",C),o(qi,Ki=pe),qi.prototype.createEl=function(){return Ki.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})};var Ki;n=qi;function qi(){return i(this,qi),s(this,Ki.apply(this,arguments))}n.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},pe.registerComponent("ControlBar",n),o(Gi,$i=Ne),Gi.prototype.buildCSSClass=function(){return"vjs-error-display "+$i.prototype.buildCSSClass.call(this)},Gi.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""};var $i;b=Gi;function Gi(t,e){return i(this,Gi),e=s(this,$i.call(this,t,e)),e.on(t,"error",e.open),e}b.prototype.options_=ue(Ne.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),pe.registerComponent("ErrorDisplay",b);var Yi="vjs-text-track-settings",Xi=(m=["#000","Black"],gn=["#00F","Blue"],C=["#0FF","Cyan"],n=["#0F0","Green"],b=["#F0F","Magenta"],["#F00","Red"]),Ji=["#FFF","White"],Qi=["#FF0","Yellow"],Zi=["1","Opaque"],to=["0.5","Semi-Transparent"],eo=["0","Transparent"],no={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[m,Ji,Xi,n,gn,Qi,b,C]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Zi,to,eo]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Ji,m,Xi,n,gn,Qi,b,C]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Zi,to]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[eo,to,Zi]}};function ro(t,e){if((t=e?e(t):t)&&"none"!==t)return t}no.windowColor.options=no.backgroundColor.options,o(oo,io=Ne),oo.prototype.dispose=function(){this.endDialog=null,io.prototype.dispose.call(this)},oo.prototype.createElSelect_=function(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"label",i=no[t],o=i.id.replace("%s",this.id_),s=[n,o].join(" ").trim();return["<"+r+' id="'+o+'" class="'+("label"===r?"vjs-label":"")+'">',this.localize(i.label),"</"+r+">",'<select aria-labelledby="'+s+'">'].concat(i.options.map((function(t){var n=o+"-"+t[1].replace(/\W+/g,"");return['<option id="'+n+'" value="'+t[0]+'" ','aria-labelledby="'+s+" "+n+'">',e.localize(t[1]),"</option>"].join("")}))).concat("</select>").join("")},oo.prototype.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},oo.prototype.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},oo.prototype.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},oo.prototype.createElColors_=function(){return tt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},oo.prototype.createElFont_=function(){return tt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},oo.prototype.createElControls_=function(){var t=this.localize("restore all settings to the default values");return tt("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},oo.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},oo.prototype.label=function(){return this.localize("Caption Settings Dialog")},oo.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},oo.prototype.buildCSSClass=function(){return io.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},oo.prototype.getValues=function(){var t=this;return function(t,e,n){var r=2<arguments.length&&void 0!==n?n:0;return l(t).reduce((function(n,r){return e(n,t[r],r)}),r)}(no,(function(e,n,r){i=t.$(n.selector),n=n.parser;var i=ro(i.options[i.options.selectedIndex].value,n);return void 0!==i&&(e[r]=i),e}),{})},oo.prototype.setValues=function(t){var e=this;B(no,(function(n,r){var i=e.$(n.selector),o=t[r],s=n.parser;if(o)for(var a=0;a<i.options.length;a++)if(ro(i.options[a].value,s)===o){i.selectedIndex=a;break}}))},oo.prototype.setDefaults=function(){var t=this;B(no,(function(e){var n=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=n}))},oo.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(h.localStorage.getItem(Yi))}catch(t){U.warn(t)}t&&this.setValues(t)},oo.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?h.localStorage.setItem(Yi,JSON.stringify(t)):h.localStorage.removeItem(Yi)}catch(t){U.warn(t)}}},oo.prototype.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},oo.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(u,"keydown",this.handleKeyDown);var t=this.player_.controlBar,e=t&&t.subsCapsButton;t=t&&t.captionsButton;e?e.focus():t&&t.focus()};var io;Ji=oo;function oo(t,e){i(this,oo),e.temporary=!1;var n=s(this,io.call(this,t,e));return n.updateDisplay=re(n,n.updateDisplay),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=tt("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===e.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",(function(){n.saveSettings(),n.close()})),n.on(n.$(".vjs-default-button"),"click",(function(){n.setDefaults(),n.updateDisplay()})),B(no,(function(t){n.on(n.$(t.selector),"change",n.updateDisplay)})),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}pe.registerComponent("TextTrackSettings",Ji),o(ao,so=pe),ao.prototype.createEl=function(){return so.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},ao.prototype.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},ao.prototype.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&Bt(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null};var so;m=ao;function ao(t,e){i(this,ao);var n=e.ResizeObserver||h.ResizeObserver,r=ue({createEl:!(n=null!==e.ResizeObserver&&n)},e),o=s(this,so.call(this,t,r));return o.ResizeObserver=e.ResizeObserver||h.ResizeObserver,o.loadListener_=null,o.resizeObserver_=null,o.debouncedHandler_=Xt((function(){o.resizeHandler()}),100,!1,o),n?(o.resizeObserver_=new o.ResizeObserver(o.debouncedHandler_),o.resizeObserver_.observe(t.el())):(o.loadListener_=function(){o.el_&&o.el_.contentWindow&&Rt(o.el_.contentWindow,"resize",o.debouncedHandler_)},o.one("load",o.loadListener_)),o}function lo(t){var e,n,r,i=t.el();i.resetSourceWatch_||(e={},n=yo(t),r=function(e){return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var s=e.apply(i,r);return uo(t),s}},["append","appendChild","insertAdjacentHTML"].forEach((function(t){i[t]&&(e[t]=i[t],i[t]=r(e[t]))})),Object.defineProperty(i,"innerHTML",ue(n,{set:r(n.set)})),i.resetSourceWatch_=function(){i.resetSourceWatch_=null,Object.keys(e).forEach((function(t){i[t]=e[t]})),Object.defineProperty(i,"innerHTML",n)},t.one("sourceset",i.resetSourceWatch_))}function co(t){var e,n,r,i;t.featuresSourceset&&!(e=t.el()).resetSourceset_&&(n=fo([t.el(),h.HTMLMediaElement.prototype,vo],"src"),r=e.setAttribute,i=e.load,Object.defineProperty(e,"src",ue(n,{set:function(r){return r=n.set.call(e,r),t.triggerSourceset(e.src),r}})),e.setAttribute=function(n,i){return i=r.call(e,n,i),/src/i.test(n)&&t.triggerSourceset(e.src),i},e.load=function(){var n=i.call(e);return uo(t)||(t.triggerSourceset(""),lo(t)),n},e.currentSrc?t.triggerSourceset(e.currentSrc):uo(t)||lo(t),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=i,e.setAttribute=r,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()})}pe.registerComponent("ResizeManager",m);var ho,uo=function(t){var e=t.el();if(e.hasAttribute("src"))t.triggerSourceset(e.src);else{var n=t.$$("source"),r=[];e="";if(!n.length)return!1;for(var i=0;i<n.length;i++){var o=n[i].src;o&&-1===r.indexOf(o)&&r.push(o)}if(!r.length)return!1;t.triggerSourceset(e=1===r.length?r[0]:e)}return!0},po={},fo=(O||(po=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){for(var e=u.createElement(this.nodeName.toLowerCase()),n=(e.innerHTML=t,u.createDocumentFragment());e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",h.Element.prototype.appendChild.call(this,n),this.innerHTML}})),function(t,e){for(var n={},r=0;r<t.length&&!((n=Object.getOwnPropertyDescriptor(t[r],e))&&n.set&&n.get);r++);return n.enumerable=!0,n.configurable=!0,n}),yo=function(t){return fo([t.el(),h.HTMLMediaElement.prototype,h.Element.prototype,po],"innerHTML")},vo={},go=(O||(vo=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?rn(h.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return h.Element.prototype.setAttribute.call(this,"src",t),t}})),a(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."])),mo=(o(_o,ho=kn),_o.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),_o.disposeMediaElement(this.el_),this.options_=null,ho.prototype.dispose.call(this)},_o.prototype.setupSourcesetHandling_=function(){co(this)},_o.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){function t(){r=[];for(var t=0;t<n.length;t++){var e=n[t];"metadata"===e.kind&&r.push({track:e,storedMode:e.mode})}}function e(){for(var t=0;t<r.length;t++){var i=r[t];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}n.removeEventListener("change",e)}var n=this.textTracks(),r=void 0;t(),n.addEventListener("change",t),this.on("dispose",(function(){return n.removeEventListener("change",t)})),this.on("webkitbeginfullscreen",(function(){n.removeEventListener("change",t),n.removeEventListener("change",e),n.addEventListener("change",e)})),this.on("webkitendfullscreen",(function(){n.removeEventListener("change",t),n.addEventListener("change",t),n.removeEventListener("change",e)}))},_o.prototype.proxyNativeTracks_=function(){var t=this;_n.names.forEach((function(e){e=_n[e];var n,r,i=t.el()[e.getterName],o=t[e.getterName]();t["featuresNative"+e.capitalName+"Tracks"]&&i&&i.addEventListener&&(n={change:function(t){o.trigger({type:"change",target:o,currentTarget:o,srcElement:o})},addtrack:function(t){o.addTrack(t.track)},removetrack:function(t){o.removeTrack(t.track)}},r=function(){for(var t=[],e=0;e<o.length;e++){for(var n=!1,r=0;r<i.length;r++)if(i[r]===o[e]){n=!0;break}n||t.push(o[e])}for(;t.length;)o.removeTrack(t.shift())},Object.keys(n).forEach((function(e){var r=n[e];i.addEventListener(e,r),t.on("dispose",(function(t){return i.removeEventListener(e,r)}))})),t.on("loadstart",r),t.on("dispose",(function(e){return t.off("loadstart",r)})))}))},_o.prototype.createEl=function(){for(var t,e=this.options_.tag,n=(e&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(e?(t=e.cloneNode(!0),e.parentNode&&e.parentNode.insertBefore(t,e),_o.disposeMediaElement(e),e=t):(e=u.createElement("video"),t=ue({},this.options_.tag&&lt(this.options_.tag)),I&&!0===this.options_.nativeControlsForTouch||delete t.controls,at(e,H(t,{id:this.options_.techId,class:"vjs-tech"}))),e.playerId=this.options_.playerId),void 0!==this.options_.preload&&ht(e,"preload",this.options_.preload),["loop","muted","playsinline","autoplay"]),r=0;r<n.length;r++){var i=n[r],o=this.options_[i];void 0!==o&&(o?ht(e,i,i):ut(e,i),e[i]=o)}return e},_o.prototype.handleLateInit_=function(t){var e,n,r,i;0!==t.networkState&&3!==t.networkState&&(0===t.readyState?(e=!1,this.on("loadstart",n=function(){e=!0}),this.on("loadedmetadata",r=function(){e||this.trigger("loadstart")}),this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",r),e||this.trigger("loadstart")}))):((i=["loadstart"]).push("loadedmetadata"),2<=t.readyState&&i.push("loadeddata"),3<=t.readyState&&i.push("canplay"),4<=t.readyState&&i.push("canplaythrough"),this.ready((function(){i.forEach((function(t){this.trigger(t)}),this)}))))},_o.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){U(t,"Video is not ready. (Video.js)")}},_o.prototype.duration=function(){var t=this;return this.el_.duration===1/0&&k&&P&&0===this.el_.currentTime?(this.on("timeupdate",(function e(){0<t.el_.currentTime&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))})),NaN):this.el_.duration||NaN},_o.prototype.width=function(){return this.el_.offsetWidth},_o.prototype.height=function(){return this.el_.offsetHeight},_o.prototype.proxyWebkitFullscreen_=function(){var t,e,n=this;"webkitDisplayingFullscreen"in this.el_&&(t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},this.on("webkitbeginfullscreen",e=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))}),this.on("dispose",(function(){n.off("webkitbeginfullscreen",e),n.off("webkitendfullscreen",t)})))},_o.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=h.navigator&&h.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},_o.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout((function(){t.pause(),t.webkitEnterFullScreen()}),0)):t.webkitEnterFullScreen()},_o.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},_o.prototype.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},_o.prototype.reset=function(){_o.resetMediaElement(this.el_)},_o.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},_o.prototype.setControls=function(t){this.el_.controls=!!t},_o.prototype.addTextTrack=function(t,e,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,e,n):ho.prototype.addTextTrack.call(this,t,e,n)},_o.prototype.createRemoteTextTrack=function(t){var e;return this.featuresNativeTextTracks?(e=u.createElement("track"),t.kind&&(e.kind=t.kind),t.label&&(e.label=t.label),(t.language||t.srclang)&&(e.srclang=t.language||t.srclang),t.default&&(e.default=t.default),t.id&&(e.id=t.id),t.src&&(e.src=t.src),e):ho.prototype.createRemoteTextTrack.call(this,t)},_o.prototype.addRemoteTextTrack=function(t,e){return t=ho.prototype.addRemoteTextTrack.call(this,t,e),this.featuresNativeTextTracks&&this.el().appendChild(t),t},_o.prototype.removeRemoteTextTrack=function(t){if(ho.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var e=this.$$("track"),n=e.length;n--;)t!==e[n]&&t!==e[n].track||this.el().removeChild(e[n])},_o.prototype.getVideoPlaybackQuality=function(){var t;return"function"==typeof this.el().getVideoPlaybackQuality?this.el().getVideoPlaybackQuality():(t={},void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),h.performance&&"function"==typeof h.performance.now?t.creationTime=h.performance.now():h.performance&&h.performance.timing&&"number"==typeof h.performance.timing.navigationStart&&(t.creationTime=h.Date.now()-h.performance.timing.navigationStart),t)},_o);function _o(t,e){i(this,_o);var n=s(this,ho.call(this,t,e)),r=(e=t.source,!1);if(e&&(n.el_.currentSrc!==e.src||t.tag&&3===t.tag.initNetworkState_)?n.setSource(e):n.handleLateInit_(n.el_),t.enableSourceset&&n.setupSourcesetHandling_(),n.el_.hasChildNodes()){for(var o=n.el_.childNodes,a=o.length,l=[];a--;){var c=o[a];"track"===c.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(c),n.remoteTextTracks().addTrack(c.track),n.textTracks().addTrack(c.track),r||n.el_.hasAttribute("crossorigin")||!an(c.src)||(r=!0)):l.push(c))}for(var h=0;h<l.length;h++)n.el_.removeChild(l[h])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&r&&U.warn(p(go)),n.restoreMetadataTracksInIOSNativePlayer_(),(I||_||w)&&!0===t.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}X()&&(mo.TEST_VID=u.createElement("video"),(Xi=u.createElement("track")).kind="captions",Xi.srclang="en",Xi.label="English",mo.TEST_VID.appendChild(Xi)),mo.isSupported=function(){try{mo.TEST_VID.volume=.5}catch(n){return!1}return!(!mo.TEST_VID||!mo.TEST_VID.canPlayType)},mo.canPlayType=function(t){return mo.TEST_VID.canPlayType(t)},mo.canPlaySource=function(t,e){return mo.canPlayType(t.type)},mo.canControlVolume=function(){try{var t=mo.TEST_VID.volume;return mo.TEST_VID.volume=t/2+.1,t!==mo.TEST_VID.volume}catch(t){return!1}},mo.canMuteVolume=function(){try{var t=mo.TEST_VID.muted;return mo.TEST_VID.muted=!t,mo.TEST_VID.muted?ht(mo.TEST_VID,"muted","muted"):ut(mo.TEST_VID,"muted"),t!==mo.TEST_VID.muted}catch(t){return!1}},mo.canControlPlaybackRate=function(){if(k&&P&&A<58)return!1;try{var t=mo.TEST_VID.playbackRate;return mo.TEST_VID.playbackRate=t/2+.1,t!==mo.TEST_VID.playbackRate}catch(t){return!1}},mo.canOverrideAttributes=function(){if(O)return!1;try{function t(){}Object.defineProperty(u.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(u.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(u.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(u.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},mo.supportsNativeTextTracks=function(){return N||T&&P},mo.supportsNativeVideoTracks=function(){return!(!mo.TEST_VID||!mo.TEST_VID.videoTracks)},mo.supportsNativeAudioTracks=function(){return!(!mo.TEST_VID||!mo.TEST_VID.audioTracks)},mo.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],mo.prototype.featuresVolumeControl=mo.canControlVolume(),mo.prototype.featuresMuteControl=mo.canMuteVolume(),mo.prototype.featuresPlaybackRate=mo.canControlPlaybackRate(),mo.prototype.featuresSourceset=mo.canOverrideAttributes(),mo.prototype.movingMediaElementInDOM=!T,mo.prototype.featuresFullscreenResize=!0,mo.prototype.featuresProgressEvents=!0,mo.prototype.featuresTimeupdateEvents=!0,mo.prototype.featuresNativeTextTracks=mo.supportsNativeTextTracks(),mo.prototype.featuresNativeVideoTracks=mo.supportsNativeVideoTracks(),mo.prototype.featuresNativeAudioTracks=mo.supportsNativeAudioTracks();var bo,To=mo.TEST_VID&&mo.TEST_VID.constructor.prototype.canPlayType,Co=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,ko=/^video\/mp4/i,Eo=(mo.patchCanPlayType=function(){4<=E&&!x&&!P?mo.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&Co.test(t)?"maybe":To.call(this,t)}:S&&(mo.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&ko.test(t)?"maybe":To.call(this,t)})},mo.unpatchCanPlayType=function(){var t=mo.TEST_VID.constructor.prototype.canPlayType;return mo.TEST_VID.constructor.prototype.canPlayType=To,t},mo.patchCanPlayType(),mo.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);if(t.removeAttribute("src"),"function"==typeof t.load)try{t.load()}catch(t){}}},mo.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);if(t.removeAttribute("src"),"function"==typeof t.load)try{t.load()}catch(t){}}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){mo.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){mo.prototype["set"+he(t)]=function(e){(this.el_[t]=e)?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach((function(t){mo.prototype[t]=function(){return this.el_[t]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach((function(t){mo.prototype["set"+he(t)]=function(e){this.el_[t]=e}})),["pause","load","play"].forEach((function(t){mo.prototype[t]=function(){return this.el_[t]()}})),kn.withSourceHandlers(mo),mo.nativeSourceHandler={},mo.nativeSourceHandler.canPlayType=function(t){try{return mo.TEST_VID.canPlayType(t)}catch(t){return""}},mo.nativeSourceHandler.canHandleSource=function(t,e){return t.type?mo.nativeSourceHandler.canPlayType(t.type):t.src?(t=sn(t.src),mo.nativeSourceHandler.canPlayType("video/"+t)):""},mo.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},mo.nativeSourceHandler.dispose=function(){},mo.registerSourceHandler(mo.nativeSourceHandler),kn.registerTech("Html5",mo),a(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "])),So=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],wo={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},xo=["tiny","xsmall","small","medium","large","xlarge","huge"],jo={},Po=(xo.forEach((function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;jo[t]="vjs-layout-"+e})),{tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0}),Ao=(o(Oo,bo=pe),Oo.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Oo.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),wn[this.id()]=null,bo.prototype.dispose.call(this)},Oo.prototype.createEl=function(){var t,e,n=this.tag,r=void 0,i=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),o="video-js"===this.tag.tagName.toLowerCase(),s=(i?r=this.el_=n.parentNode:o||(r=this.el_=bo.prototype.createEl.call(this,"div")),lt(n));if(o){for(r=this.el_=n,n=this.tag=u.createElement("video");r.children.length;)n.appendChild(r.firstChild);rt(r,"video-js")||it(r,"video-js"),r.appendChild(n),i=this.playerElIngest_=r,["autoplay","controls","crossOrigin","defaultMuted","defaultPlaybackRate","loop","muted","playbackRate","src","volume"].forEach((function(t){void 0!==r[t]&&(n[t]=r[t])}))}n.setAttribute("tabindex","-1"),s.tabindex="-1",M&&(n.setAttribute("role","application"),s.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach((function(t){"class"===t?(r.className+=" "+s[t],o&&(n.className+=" "+s[t])):(r.setAttribute(t,s[t]),o&&n.setAttribute(t,s[t]))})),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",(n.player=r.player=this).addClass("vjs-paused"),!0!==h.VIDEOJS_NO_DYNAMIC_STYLE&&(this.styleEl_=$t("vjs-styles-dimensions"),t=kt(".vjs-styles-defaults"),(e=kt("head")).insertBefore(this.styleEl_,t?t.nextSibling:e.firstChild)),this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var a=n.getElementsByTagName("a"),l=0;l<a.length;l++){var c=a.item(l);it(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!i&&n.parentNode.insertBefore(r,n),nt(n,r),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=r},Oo.prototype.width=function(t){return this.dimension("width",t)},Oo.prototype.height=function(t){return this.dimension("height",t)},Oo.prototype.dimension=function(t,e){var n,r=t+"_";if(void 0===e)return this[r]||0;""===e?(this[r]=void 0,this.updateStyleEl_()):(n=parseFloat(e),isNaN(n)?U.error('Improper value "'+e+'" supplied for for '+t):(this[r]=n,this.updateStyleEl_()))},Oo.prototype.fluid=function(t){if(void 0===t)return!!this.fluid_;this.fluid_=!!t,t?(this.addClass("vjs-fluid"),this.fill(!1)):this.removeClass("vjs-fluid"),this.updateStyleEl_()},Oo.prototype.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},Oo.prototype.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},Oo.prototype.updateStyleEl_=function(){var t,e,n,r;!0===h.VIDEOJS_NO_DYNAMIC_STYLE?(e="number"==typeof this.width_?this.width_:this.options_.width,r="number"==typeof this.height_?this.height_:this.options_.height,(n=this.tech_&&this.tech_.el())&&(0<=e&&(n.width=e),0<=r&&(n.height=r))):(t=(t=((r=n=e=void 0)!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"))[1]/t[0],e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/t:this.videoWidth()||300,n=void 0!==this.height_?this.height_:e*t,r=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(r),Gt(this.styleEl_,"\n      ."+r+" {\n        width: "+e+"px;\n        height: "+n+"px;\n      }\n\n      ."+r+".vjs-fluid {\n        padding-top: "+100*t+"%;\n      }\n    "))},Oo.prototype.loadTech_=function(t,e){var n=this,r=(this.tech_&&this.unloadTech_(),he(t)),i=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==r&&this.tag&&(kn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;var o={source:e,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Tn.names.forEach((function(t){t=Tn[t],o[t.getterName]=n[t.privateName]})),H(o,this.options_[r]),H(o,this.options_[i]),H(o,this.options_[t.toLowerCase()]),this.tag&&(o.tag=this.tag),e&&e.src===this.cache_.src&&0<this.cache_.currentTime&&(o.startTime=this.cache_.currentTime),i=kn.getTech(t);if(!i)throw new Error("No Tech named '"+r+"' exists! '"+r+"' should be registered using videojs.registerTech()'");this.tech_=new i(o),this.tech_.ready(re(this,this.handleTechReady_),!0),Oe(this.textTracksJson_||[],this.tech_),So.forEach((function(t){n.on(n.tech_,t,n["handleTech"+he(t)+"_"])})),Object.keys(wo).forEach((function(t){n.on(n.tech_,t,(function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+wo[t]+"_"].bind(n),event:e}):n["handleTech"+wo[t]+"_"](e)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||nt(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},Oo.prototype.unloadTech_=function(){var t=this;Tn.names.forEach((function(e){e=Tn[e],t[e.privateName]=t[e.getterName]()})),this.textTracksJson_=Ae(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},Oo.prototype.tech=function(t){return void 0===t&&U.warn(p(Eo)),this.tech_},Oo.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},Oo.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},Oo.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(n){U("deleting tag.poster throws in some browsers",n)}},Oo.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},Oo.prototype.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){function n(){var t=e.muted(),n=(e.muted(!0),e.play());if(n&&n.then&&n.catch)return n.catch((function(n){e.muted(t)}))}var r=void 0;if("any"===t?(r=this.play())&&r.then&&r.catch&&r.catch(n):r="muted"===t?n():this.play(),r&&r.then&&r.catch)return r.then((function(){e.trigger({type:"autoplay-success",autoplay:t})})).catch((function(n){e.trigger({type:"autoplay-failure",autoplay:t})}))}},Oo.prototype.updateSourceCaches_=function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=t,n="",r=(t=("string"!=typeof e&&(e=t.src,n=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!n&&(n=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var n=t.cache_.sources.filter((function(t){return t.src===e}));if(n.length)return n[0].type;for(var r=t.$$("source"),i=0;i<r.length;i++){var o=r[i];if(o.type&&o.src&&o.src===e)return o.type}return Fn(e)}(this,e)),this.cache_.source=ue({},t,{src:e,type:n}),this.cache_.sources.filter((function(t){return t.src&&t.src===e}))),[]),i=this.$$("source"),o=[],s=0;s<i.length;s++){var a=lt(i[s]);r.push(a),a.src&&a.src===e&&o.push(a.src)}o.length&&!t.length?this.cache_.sources=r:t.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},Oo.prototype.handleTechSourceset_=function(t){var e,n,r,i=this;this.changingSrc_||(e=function(t){return i.updateSourceCaches_(t)},n=this.currentSource().src,r=t.src,(e=!n||/^blob:/.test(n)||!/^blob:/.test(r)||this.lastSource_&&(this.lastSource_.tech===r||this.lastSource_.player===n)?e:function(){})(r),t.src||this.tech_.one(["sourceset","loadstart"],(function t(e){"sourceset"!==e.type&&(e=i.techGet("currentSrc"),i.lastSource_.tech=e,i.updateSourceCaches_(e)),i.tech_.off(["sourceset","loadstart"],t)}))),this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},Oo.prototype.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},Oo.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},Oo.prototype.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(t){return t.callback(t.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},Oo.prototype.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",(function(){return t.removeClass("vjs-waiting")}))},Oo.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},Oo.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},Oo.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},Oo.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},Oo.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},Oo.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(U.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},Oo.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},Oo.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},Oo.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},Oo.prototype.handleTechClick_=function(t){Ct(t)&&this.controls_&&(this.paused()?xe(this.play()):this.pause())},Oo.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},Oo.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},Oo.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},Oo.prototype.handleTechTouchEnd_=function(t){t.preventDefault()},Oo.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},Oo.prototype.handleStageClick_=function(){this.reportUserActivity()},Oo.prototype.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},Oo.prototype.handleTechError_=function(){var t=this.tech_.error();this.error(t)},Oo.prototype.handleTechTextData_=function(){var t=1<arguments.length?arguments[1]:null;this.trigger("textdata",t)},Oo.prototype.getCache=function(){return this.cache_},Oo.prototype.techCall_=function(t,e){this.ready((function(){if(t in On)return n=this.middleware_,this.tech_[t](n.reduce(Nn(t),e));if(t in Mn)return Pn(this.middleware_,this.tech_,t,e);var n;try{this.tech_&&this.tech_[t](e)}catch(n){throw U(n),n}}),!0)},Oo.prototype.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in An)return e=this.middleware_,n=this.tech_,e.reduceRight(Nn(t),n[t]());if(t in Mn)return Pn(this.middleware_,this.tech_,t);var e,n;try{return this.tech_[t]()}catch(e){throw void 0===this.tech_[t]?U("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e):"TypeError"===e.name?(U("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1):U(e),e}}},Oo.prototype.play=function(){var t=this,e=this.options_.Promise||h.Promise;return e?new e((function(e){t.play_(e)})):this.play_()},Oo.prototype.play_=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:xe;this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_?this.changingSrc_||!this.src()&&!this.currentSrc()?(this.playOnLoadstart_=function(){t.playOnLoadstart_=null,e(t.play())},this.one("loadstart",this.playOnLoadstart_)):e(this.techGet_("play")):this.playWaitingForReady_||(this.playWaitingForReady_=!0,this.ready((function(){t.playWaitingForReady_=!1,e(t.play())})))},Oo.prototype.pause=function(){this.techCall_("pause")},Oo.prototype.paused=function(){return!1!==this.techGet_("paused")},Oo.prototype.played=function(){return this.techGet_("played")||ve(0,0)},Oo.prototype.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},Oo.prototype.currentTime=function(t){if(void 0===t)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;this.techCall_("setCurrentTime",t=t<0?0:t)},Oo.prototype.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=(t=parseFloat(t))<0?1/0:t)!==this.cache_.duration&&((this.cache_.duration=t)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},Oo.prototype.remainingTime=function(){return this.duration()-this.currentTime()},Oo.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},Oo.prototype.buffered=function(){var t;return(t=this.techGet_("buffered"))&&t.length?t:ve(0,0)},Oo.prototype.bufferedPercent=function(){return ge(this.buffered(),this.duration())},Oo.prototype.bufferedEnd=function(){var t=this.buffered(),e=this.duration();t=t.end(t.length-1);return e<t?e:t},Oo.prototype.volume=function(t){var e=void 0;if(void 0===t)return e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e;e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),0<e&&this.lastVolume_(e)},Oo.prototype.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},Oo.prototype.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},Oo.prototype.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},Oo.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},Oo.prototype.isFullscreen=function(t){if(void 0===t)return!!this.isFullscreen_;this.isFullscreen_=!!t},Oo.prototype.requestFullscreen=function(){var t=me;this.isFullscreen(!0),t.requestFullscreen?(Rt(u,t.fullscreenchange,re(this,(function e(n){this.isFullscreen(u[t.fullscreenElement]),!1===this.isFullscreen()&&Bt(u,t.fullscreenchange,e),this.trigger("fullscreenchange")}))),this.el_[t.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},Oo.prototype.exitFullscreen=function(){var t=me;this.isFullscreen(!1),t.requestFullscreen?u[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},Oo.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=u.documentElement.style.overflow,Rt(u,"keydown",re(this,this.fullWindowOnEscKey)),u.documentElement.style.overflow="hidden",it(u.body,"vjs-full-window"),this.trigger("enterFullWindow")},Oo.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},Oo.prototype.exitFullWindow=function(){this.isFullWindow=!1,Bt(u,"keydown",this.fullWindowOnEscKey),u.documentElement.style.overflow=this.docOrigOverflow,ot(u.body,"vjs-full-window"),this.trigger("exitFullWindow")},Oo.prototype.canPlayType=function(t){for(var e=0,n=this.options_.techOrder;e<n.length;e++){var r=n[e],i=kn.getTech(r);if(i=i||pe.getComponent(r)){if(i.isSupported()&&(i=i.canPlayType(t)))return i}else U.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},Oo.prototype.selectSource=function(t){function e(t,e,n){var r=void 0;return t.some((function(t){return e.some((function(e){if(r=n(t,e))return!0}))})),r}function n(t,e){var n=t[0];if(t[1].canPlaySource(e,i.options_[n.toLowerCase()]))return{source:e,tech:n}}var r,i=this,o=this.options_.techOrder.map((function(t){return[t,kn.getTech(t)]})).filter((function(t){var e=t[0];t=t[1];return t?t.isSupported():(U.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)}));return(this.options_.sourceOrder?e(t,o,(r=n,function(t,e){return r(e,t)})):e(o,t,n))||!1},Oo.prototype.src=function(t){var e=this;if(void 0===t)return this.cache_.src||"";var n=Dn(t);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),jn(this,n[0],(function(t,r){var i;if(e.middleware_=r,e.cache_.sources=n,e.updateSourceCaches_(t),e.src_(t))return 1<n.length?e.src(n.slice(1)):(e.changingSrc_=!1,e.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void e.triggerReady());i=e.tech_,r.forEach((function(t){return t.setTech&&t.setTech(i)}))}))):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},Oo.prototype.src_=function(t){var e,n,r=this,i=this.selectSource([t]);return!i||(e=i.tech,n=this.techName_,he(e)!==he(n)?(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready((function(){r.changingSrc_=!1}))):this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1}),!0),!1)},Oo.prototype.load=function(){this.techCall_("load")},Oo.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},Oo.prototype.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},Oo.prototype.currentSource=function(){return this.cache_.source||{}},Oo.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},Oo.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},Oo.prototype.preload=function(t){if(void 0===t)return this.techGet_("preload");this.techCall_("setPreload",t),this.options_.preload=t},Oo.prototype.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e=void 0;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=e||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",e)},Oo.prototype.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},Oo.prototype.loop=function(t){if(void 0===t)return this.techGet_("loop");this.techCall_("setLoop",t),this.options_.loop=t},Oo.prototype.poster=function(t){if(void 0===t)return this.poster_;(t=t||"")!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},Oo.prototype.handleTechPosterChange_=function(){var t;(!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster&&(t=this.tech_.poster()||"")!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))},Oo.prototype.controls=function(t){if(void 0===t)return!!this.controls_;this.controls_!==(t=!!t)&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},Oo.prototype.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;this.usingNativeControls_!==(t=!!t)&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},Oo.prototype.error=function(t){if(void 0===t)return this.error_||null;null===t?(this.error_=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close()):(this.error_=new Ee(t),this.addClass("vjs-error"),U.error("(CODE:"+this.error_.code+" "+Ee.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"))},Oo.prototype.reportUserActivity=function(t){this.userActivity_=!0},Oo.prototype.userActive=function(t){if(void 0===t)return this.userActive_;(t=!!t)!==this.userActive_&&(this.userActive_=t,this.userActive_?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.tech_&&this.tech_.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")))},Oo.prototype.listenForUserActivity_=function(){var t=void 0,e=void 0,n=void 0,r=re(this,this.reportUserActivity),i=(this.on("mousedown",(function(){r(),this.clearInterval(t),t=this.setInterval(r,250)})),this.on("mousemove",(function(t){t.screenX===e&&t.screenY===n||(e=t.screenX,n=t.screenY,r())})),this.on("mouseup",(function(e){r(),this.clearInterval(t)})),this.on("keydown",r),void this.on("keyup",r));this.setInterval((function(){var t;this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),this.clearTimeout(i),(t=this.options_.inactivityTimeout)<=0||(i=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),t)))}),250)},Oo.prototype.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},Oo.prototype.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},Oo.prototype.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},Oo.prototype.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},Oo.prototype.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},Oo.prototype.removeRemoteTextTrack=function(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).track;if(this.tech_)return this.tech_.removeRemoteTextTrack(void 0===t?arguments[0]:t)},Oo.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},Oo.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},Oo.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},Oo.prototype.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},Oo.prototype.languages=function(){return ue(Oo.prototype.options_.languages,this.languages_)},Oo.prototype.toJSON=function(){var t=ue(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var r=e[n];(r=ue(r)).player=void 0,t.tracks[n]=r}return t},Oo.prototype.createModal=function(t,e){var n=this,r=((e=e||{}).content=t||"",new Ne(this,e));return this.addChild(r),r.on("dispose",(function(){n.removeChild(r)})),r.open(),r},Oo.prototype.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),n=0;n<xo.length;n++){var r=xo[n];if(e<=this.breakpoints_[r]){if(t===r)return;t&&this.removeClass(jo[t]),this.addClass(jo[r]),this.breakpoint_=r;break}}},Oo.prototype.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},Oo.prototype.breakpoints=function(t){return void 0!==t&&(this.breakpoint_="",this.breakpoints_=H({},Po,t),this.updateCurrentBreakpoint_()),H(this.breakpoints_)},Oo.prototype.responsive=function(t){return void 0===t?this.responsive_:(t=Boolean(t))!==this.responsive_?((this.responsive_=t)?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},Oo.prototype.currentBreakpoint=function(){return this.breakpoint_},Oo.prototype.currentBreakpointClass=function(){return jo[this.breakpoint_]||""},Oo.getTagSettings=function(t){var e,n={sources:[],tracks:[]},r=lt(t),i=r["data-setup"];if(rt(t,"vjs-fill")&&(r.fill=!0),rt(t,"vjs-fluid")&&(r.fluid=!0),null!==i&&(e=(i=d(i||"{}"))[0],i=i[1],e&&U.error(e),H(r,i)),H(n,r),t.hasChildNodes())for(var o=t.childNodes,s=0,a=o.length;s<a;s++){var l=o[s],c=l.nodeName.toLowerCase();"source"===c?n.sources.push(lt(l)):"track"===c&&n.tracks.push(lt(l))}return n},Oo.prototype.flexNotSupported_=function(){var t=u.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},Oo);function Oo(t,e,n){if(i(this,Oo),t.id=t.id||e.id||"vjs_video_"+wt++,(e=H(Oo.getTagSettings(t),e)).initChildren=!1,e.createEl=!1,e.evented=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof t.closest){var r=t.closest("[lang]");r&&r.getAttribute&&(e.language=r.getAttribute("lang"))}else for(var o=t;o&&1===o.nodeType;){if(lt(o).hasOwnProperty("lang")){e.language=o.getAttribute("lang");break}o=o.parentNode}var a;r=s(this,bo.call(this,null,e,n));if(r.log=K(r.id_),r.isPosterFromTech_=!1,r.queuedCallbacks_=[],r.isReady_=!1,r.hasStarted_=!1,r.userActive_=!1,!r.options_||!r.options_.techOrder||!r.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");r.tag=t,r.tagAttributes=t&&lt(t),r.language(r.options_.language),e.languages?(a={},Object.getOwnPropertyNames(e.languages).forEach((function(t){a[t.toLowerCase()]=e.languages[t]})),r.languages_=a):r.languages_=Oo.prototype.options_.languages,r.cache_={},r.poster_=e.poster||"",r.controls_=!!e.controls,r.cache_.lastVolume=1,t.controls=!1,t.removeAttribute("controls"),t.hasAttribute("autoplay")?r.options_.autoplay=!0:r.autoplay(r.options_.autoplay),r.scrubbing_=!1,r.el_=r.createEl(),r.cache_.lastPlaybackRate=r.defaultPlaybackRate(),ae(r,{eventBusKey:"el_"});var l;n=ue(r.options_),e.plugins&&(l=e.plugins,Object.keys(l).forEach((function(t){if("function"!=typeof this[t])throw new Error('plugin "'+t+'" does not exist');this[t](l[t])}),r)),r.options_.playerOptions=n,r.middleware_=[],r.initChildren(),r.isAudio("audio"===t.nodeName.toLowerCase()),r.controls()?r.addClass("vjs-controls-enabled"):r.addClass("vjs-controls-disabled"),r.el_.setAttribute("role","region"),r.isAudio()?r.el_.setAttribute("aria-label",r.localize("Audio Player")):r.el_.setAttribute("aria-label",r.localize("Video Player")),r.isAudio()&&r.addClass("vjs-audio"),r.flexNotSupported_()&&r.addClass("vjs-no-flex"),T||r.addClass("vjs-workinghover"),Oo.players[r.id_]=r,n=v.split(".")[0];return r.addClass("vjs-v"+n),r.userActive(!0),r.reportUserActivity(),r.one("play",r.listenForUserActivity_),r.on("fullscreenchange",r.handleFullscreenChange_),r.on("stageclick",r.handleStageClick_),r.breakpoints(r.options_.breakpoints),r.responsive(r.options_.responsive),r.changingSrc_=!1,r.playWaitingForReady_=!1,r.playOnLoadstart_=null,r}function Mo(t){return Ho.hasOwnProperty(t)}function No(t){return Mo(t)?Ho[t]:void 0}function Io(t,e){t[Bo]=t[Bo]||{},t[Bo][e]=!0}function Do(t,e,n){n=(n?"before":"")+"pluginsetup",t.trigger(n,e),t.trigger(n+":"+e.name,e)}function Lo(t,e){function n(){Do(this,{name:t,plugin:e,instance:null},!0);var n=e.apply(this,arguments);return Io(this,t),Do(this,{name:t,plugin:e,instance:n}),n}return Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function Fo(t,e){return e.prototype.name=t,function(){Do(this,{name:t,plugin:e,instance:null},!0);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=new(Function.prototype.bind.apply(e,[null].concat([this].concat(r))));return this[t]=function(){return o},Do(this,o.getEventHash()),o}}Tn.names.forEach((function(t){var e=Tn[t];Ao.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}})),Ao.players={};n=h.navigator;var Ro=(Ao.prototype.options_={techOrder:kn.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:n&&(n.languages&&n.languages[0]||n.userLanguage||n.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",breakpoints:{},responsive:!1},O||Ao.prototype.options_.children.push("resizeManager"),["ended","seeking","seekable","networkState","readyState"].forEach((function(t){Ao.prototype[t]=function(){return this.techGet_(t)}})),So.forEach((function(t){Ao.prototype["handleTech"+he(t)+"_"]=function(){return this.trigger(t)}})),pe.registerComponent("Player",Ao),"plugin"),Bo="activePlugins_",Ho={},Vo=(zo.prototype.version=function(){return this.constructor.VERSION},zo.prototype.getEventHash=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.name=this.name,t.plugin=this.constructor,t.instance=this,t},zo.prototype.trigger=function(t){return Ht(this.eventBusEl_,t,this.getEventHash(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}))},zo.prototype.handleStateChanged=function(t){},zo.prototype.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[Bo][t]=!1,this.player=this.state=null,e[t]=Fo(t,Ho[t])},zo.isBasic=function(t){return t="string"==typeof t?No(t):t,"function"==typeof t&&!zo.prototype.isPrototypeOf(t.prototype)},zo.registerPlugin=function(t,e){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+(void 0===t?"undefined":F(t))+".");if(Mo(t))U.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(Ao.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof e)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+(void 0===e?"undefined":F(e))+".");return Ho[t]=e,t!==Ro&&(zo.isBasic(e)?Ao.prototype[t]=Lo(t,e):Ao.prototype[t]=Fo(t,e)),e},zo.deregisterPlugin=function(t){if(t===Ro)throw new Error("Cannot de-register base plugin.");Mo(t)&&(delete Ho[t],delete Ao.prototype[t])},zo.getPlugins=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Object.keys(Ho),e=void 0;return t.forEach((function(t){var n=No(t);n&&((e=e||{})[t]=n)})),e},zo.getPluginVersion=function(t){return t=No(t),t&&t.VERSION||""},zo);function zo(t){if(i(this,zo),this.constructor===zo)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,ae(this),delete this.trigger,ce(this,this.constructor.defaultState),Io(t,this.name),this.dispose=re(this,this.dispose),t.on("dispose",this.dispose)}function Wo(t){return 0===t.indexOf("#")?t.slice(1):t}function Uo(t,e,n){if(i=Uo.getPlayer(t))e&&U.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&i.ready(n);else{var r="string"==typeof t?kt("#"+Wo(t)):t;if(!J(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");u.body.contains(r)||U.warn("The element supplied is not included in the DOM"),e=e||{},Uo.hooks("beforesetup").forEach((function(t){t=t(r,ue(e)),!V(t)||Array.isArray(t)?U.error("please return an object in beforesetup hooks"):e=ue(e,t)}));var i=new(pe.getComponent("Player"))(r,e,n);Uo.hooks("setup").forEach((function(t){return t(i)}))}return i}Vo.getPlugin=No,Vo.BASE_PLUGIN_NAME=Ro,Vo.registerPlugin(Ro,Vo),Ao.prototype.usingPlugin=function(t){return!!this[Bo]&&!0===this[Bo][t]},Ao.prototype.hasPlugin=function(t){return!!Mo(t)},"undefined"==typeof HTMLVideoElement&&X()&&(u.createElement("video"),u.createElement("audio"),u.createElement("track"),u.createElement("video-js")),Uo.hooks_={},Uo.hooks=function(t,e){return Uo.hooks_[t]=Uo.hooks_[t]||[],e&&(Uo.hooks_[t]=Uo.hooks_[t].concat(e)),Uo.hooks_[t]},Uo.hook=function(t,e){Uo.hooks(t,e)},Uo.hookOnce=function(t,e){Uo.hooks(t,[].concat(e).map((function(e){return function n(){return Uo.removeHook(t,n),e.apply(void 0,arguments)}})))},Uo.removeHook=function(t,e){return e=Uo.hooks(t).indexOf(e),!(e<=-1)&&(Uo.hooks_[t]=Uo.hooks_[t].slice(),Uo.hooks_[t].splice(e,1),!0)},!0!==h.VIDEOJS_NO_DYNAMIC_STYLE&&X()&&!(gn=kt(".vjs-styles-defaults"))&&(gn=$t("vjs-styles-defaults"),(Qi=kt("head"))&&Qi.insertBefore(gn,Qi.firstChild),Gt(gn,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")),qt(1,Uo),Uo.VERSION=v,Uo.options=Ao.prototype.options_,Uo.getPlayers=function(){return Ao.players},Uo.getPlayer=function(t){var e=Ao.players,n=void 0;if("string"==typeof t){var r=Wo(t),i=e[r];if(i)return i;n=kt("#"+r)}else n=t;if(J(n)&&(i=n,r=i.player,t=i.playerId,r||e[t]))return r||e[t]},Uo.getAllPlayers=function(){return Object.keys(Ao.players).map((function(t){return Ao.players[t]})).filter(Boolean)},Uo.players=Ao.players,Uo.getComponent=pe.getComponent,Uo.registerComponent=function(t,e){kn.isTech(e)&&U.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),pe.registerComponent.call(pe,t,e)},Uo.getTech=kn.getTech,Uo.registerTech=kn.registerTech,Uo.use=function(t,e){Sn[t]=Sn[t]||[],Sn[t].push(e)},!O&&Object.defineProperty?(Object.defineProperty(Uo,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Uo.middleware,"TERMINATOR",{value:xn,writeable:!1,enumerable:!0})):Uo.middleware={TERMINATOR:xn},Uo.browser=L,Uo.TOUCH_ENABLED=I,Uo.extend=function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=function(){t.apply(this,arguments)},i={},o=(n=("object"===(void 0===n?"undefined":F(n))?(n.constructor!==Object.prototype.constructor&&(r=n.constructor),i=n):"function"==typeof n&&(r=n),r),t);if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+(void 0===o?"undefined":F(o)));for(e in n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o&&(n.super_=o),i)i.hasOwnProperty(e)&&(r.prototype[e]=i[e]);return r},Uo.mergeOptions=ue,Uo.bind=re,Uo.registerPlugin=Vo.registerPlugin,Uo.deregisterPlugin=Vo.deregisterPlugin,Uo.plugin=function(t,e){return U.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Vo.registerPlugin(t,e)},Uo.getPlugins=Vo.getPlugins,Uo.getPlugin=Vo.getPlugin,Uo.getPluginVersion=Vo.getPluginVersion,Uo.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),Uo.options.languages=ue(Uo.options.languages,((n={})[t]=e,n)),Uo.options.languages[t]},Uo.log=U,Uo.createLogger=K,Uo.createTimeRange=Uo.createTimeRanges=ve,Uo.formatTime=hr,Uo.setFormatTime=function(t){cr=t},Uo.resetFormatTime=function(){cr=lr},Uo.parseUrl=nn,Uo.isCrossOrigin=an,Uo.EventTarget=Jt,Uo.on=Rt,Uo.one=Vt,Uo.off=Bt,Uo.trigger=Ht,Uo.xhr=f,Uo.TextTrack=cn,Uo.AudioTrack=pn,Uo.VideoTrack=g,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(t){Uo[t]=function(){return U.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),St[t].apply(null,arguments)}})),Uo.computedStyle=q,Uo.dom=St,Uo.url=Lt,t.exports=Uo},fda2:function(t,e,n){}}]);