(window.webpackJsonp=window.webpackJsonp||[]).push([["fastEmail~2a44944c"],{"33b1":function(e,t,i){"use strict";i.r(t);var a={name:"momentsView",data(){return{from_email:"",to_email:"",email_content:"",to_pattern:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,show:!1,isSuccess:!1,title:"",isLoading:!1}},mounted(){this.$refs.container.style.height=window.innerHeight+"px",this.$refs.container.addEventListener("scroll",this.checkIsBottom),this.$socket.on("emailOver",e=>{var{flag:e=!1,msg:t=""}=e||{};this.isLoading=!1,this.show=!0,this.isSuccess=e,this.title=t,this.email_content=""})},methods:{onSubmit(e){this.isLoading=!0,e.from=this.$store.state.myInfo.username,this.$socket.emit("sendEmail",e)}},activated(){this.from_email="",this.to_email="",this.email_content="",this.isLoading=!1}},i=(i("c77a"),i("0c7c")),i=Object(i.a)(a,function(){var t=this,e=t._self._c;return e("div",{ref:"container",staticClass:"container"},[e("van-nav-bar",{attrs:{title:"快捷邮箱","left-arrow":""},on:{"click-left":t.onClickLeft}}),e("van-form",{attrs:{disabled:t.isLoading},on:{submit:t.onSubmit}},[e("van-field",{attrs:{name:"from_email",label:"发送者(可选)",placeholder:"发送者邮箱 / 备注"},model:{value:t.from_email,callback:function(e){t.from_email=e},expression:"from_email"}}),e("van-field",{attrs:{name:"to_email",label:"接收者",placeholder:"接收者邮箱",rules:[{pattern:t.to_pattern,required:!0,message:"请正确输入"}]},model:{value:t.to_email,callback:function(e){t.to_email=e},expression:"to_email"}}),e("van-field",{attrs:{name:"email_content",label:"内容",placeholder:"请输入内容",rules:[{required:!0,message:"不允许为空"}]},model:{value:t.email_content,callback:function(e){t.email_content=e},expression:"email_content"}}),e("div",{staticStyle:{margin:"16px"}},[e("van-button",{attrs:{loading:t.isLoading,"loading-type":"spinner",round:"",block:"",type:"info","native-type":"submit"}},[t._v("发送 ")])],1)],1),e("van-dialog",{staticStyle:{"text-align":"center"},attrs:{title:t.title},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t.isSuccess?e("van-icon",{staticStyle:{"line-height":"120px"},attrs:{name:"checked",color:"green",size:"50px"}}):e("van-icon",{staticStyle:{"line-height":"120px"},attrs:{name:"clear",color:"red",size:"50px"}})],1)],1)},[],!1,null,"766b0d49",null);t.default=i.exports},a70e:function(e,t,i){},c77a:function(e,t,i){"use strict";i("a70e")}}]);